/*! For license information please see application-insights-application-customizer_ac5c68bb8855250fa65c.js.LICENSE.txt */
define("f0678169-75a5-4f83-bdbc-08abbbd8837c_1.0.2",["@microsoft/sp-application-base","@microsoft/sp-core-library","ApplicationInsightsApplicationCustomizerStrings"],function(n,a,i){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="yT/p")}({"4El3":function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return r}),n.d(t,"n",function(){return o}),n.d(t,"t",function(){return s});var a=n("FXxO"),i=null;function r(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==a.u&&globalThis&&(i=globalThis),typeof self!==a.u&&self&&(i=self),typeof window!==a.u&&window&&(i=window),typeof e!==a.u&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=a.n;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==a.d&&n!==a.s&&o("Object prototype may only be an Object:"+e),i[a.l]=e,new i}}).call(this,n("yLpj"))},FXxO:function(e,t,n){"use strict";n.d(t,"s",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"u",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"o",function(){return c}),n.d(t,"t",function(){return d}),n.d(t,"r",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"i",function(){return m});var a="function",i="object",r="undefined",o="prototype",s="hasOwnProperty",c="default",d=Object,l=d[o],u=d.assign,f=d.create,p=d.defineProperty,m=l[s]},GPet:function(e,t){e.exports=n},UWqr:function(e,t){e.exports=a},ltvU:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"t",function(){return s}),n.d(t,"n",function(){return c});var a=n("FXxO"),i=n("4El3"),r=((Object(i.e)()||{}).Symbol,(Object(i.e)()||{}).Reflect,a.e||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])a.r[a.c].call(t,r)&&(e[r]=t[r]);return e}),o=function(e,t){return o=a.t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a.c](n)&&(e[n]=t[n])},o(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==a.s&&null!==t&&Object(i.n)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[a.l]=null===t?Object(i.t)(t):(n[a.l]=t[a.l],new n)}function c(e,t){for(var n=0,a=t.length,i=e.length;n<a;n++,i++)e[i]=t[n];return e}},rs7b:function(e,t){e.exports=i},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"yT/p":function(e,t,n){"use strict";n.r(t);var a=n("UWqr"),i=n("GPet"),r="prototype",o="function",s="_dynClass",c="_unknown_",d=Object,l=d.getPrototypeOf,u=d.getOwnPropertyNames,f=0;function p(e,t){return e&&d.prototype.hasOwnProperty.call(e,t)}function m(e){return e&&(e===d.prototype||e===Array.prototype)}function _(e){return m(e)||e===Function.prototype}function h(e){var t;if(e){if(l)return l(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,p(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function b(e,t){var n=[];if(u)n=u(e);else for(var a in e)"string"==typeof a&&p(e,a)&&n.push(a);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function g(e,t,n){return"constructor"!==t&&typeof e[t]===o&&(n||p(e,t))}function v(e){throw new TypeError("DynamicProto: "+e)}function y(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function S(e,t,n,a){var i=null;if(e&&p(n,s)){var r=e._dynInstFuncs||{};if((i=(r[n._dynClass]||{})[t])||v("Missing ["+t+"] "+o),!i._dynInstChk&&!1!==r._dynInstChk){for(var c=!p(e,t),d=h(e),l=[];c&&d&&!_(d)&&!y(l,d);){var u=d[t];if(u){c=u===a;break}l.push(d),d=h(d)}try{c&&(e[t]=i),i._dynInstChk=1}catch(e){r._dynInstChk=!1}}}return i}function D(e,t,n){var a=t[e];return a===n&&(a=h(t)[e]),typeof a!==o&&v("["+e+"] is not a "+o),a}function I(e,t){return p(e,r)?e.name||t||c:((e||{}).constructor||{}).name||t||c}function x(e,t,n,a){p(e,r)||v("theClass is an invalid class definition.");var i=e.prototype;(function(e,t){if(l){for(var n=[],a=h(t);a&&!_(a)&&!y(n,a);){if(a===e)return!0;n.push(a),a=h(a)}return!1}return!0})(i,t)||v("["+I(e)+"] is not in class hierarchy of ["+I(t)+"]");var o=null;p(i,s)?o=i._dynClass:(o="_dynCls$"+I(e,"_")+"$"+f,f++,i._dynClass=o);var c=x._dfOpts,d=!!c.useBaseInst;d&&a&&void 0!==a.useBaseInst&&(d=!!a.useBaseInst);var u=function(e){var t={};return b(e,function(n){!t[n]&&g(e,n,!1)&&(t[n]=e[n])}),t}(t),C=function(e,t,n,a){function i(e,t,n){var i=t[n];if(i._isDynProxy&&a){var r=e._dynInstFuncs||{};!1!==r._dynInstChk&&(i=(r[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var r={};b(n,function(e){r[e]=i(t,n,e)});for(var o=h(e),s=[];o&&!_(o)&&!y(s,o);)b(o,function(e){!r[e]&&g(o,e,!l)&&(r[e]=i(t,o,e))}),s.push(o),o=h(o);return r}(i,t,u,d);n(t,C);var O=!!l&&!!c.setInstFuncs;O&&a&&(O=!!a.setInstFuncs),function(e,t,n,a,i){if(!m(e)){var r=n._dynInstFuncs=n._dynInstFuncs||{},o=r[t]=r[t]||{};!1!==r._dynInstChk&&(r._dynInstChk=!!i),b(n,function(t){g(n,t,!1)&&n[t]!==a[t]&&(o[t]=n[t],delete n[t],(!p(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){return(S(this,t,e,n)||D(t,e,n)).apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))})}}(i,o,t,u,!1!==O)}x._dfOpts={setInstFuncs:!0,useBaseInst:!0};var C=n("ltvU"),O=n("4El3"),w=n("FXxO"),E="",A=w.a,L=w.t.freeze,k=(w.t.seal,w.t.keys),M=String[w.l],P=M.trim,T=M.endsWith,U=(M.startsWith,Date[w.l].toISOString),F=Array.isArray,H=w.r.toString,R=w.i.toString,N=R.call(w.t),B=/-([a-z])/g,j=/([^\w\d_$])/g,V=/^(\d+[\w\d_$])/,z=Object.getPrototypeOf;function G(e){if(e){if(z)return z(e);var t=e.__proto__||e[w.l]||e.constructor;if(t)return t}return null}function K(e){return void 0===e||typeof e===w.u}function W(e){return null===e||K(e)}function q(e){return!W(e)}function Q(e,t){return!(!e||!w.i.call(e,t))}function Y(e){return!(!e||typeof e!==w.d)}function J(e){return!(!e||typeof e!==w.s)}function X(e){var t=e;return t&&ne(t)&&(t=(t=(t=t.replace(B,function(e,t){return t.toUpperCase()})).replace(j,"_")).replace(V,function(e,t){return"_"+t})),t}function Z(e,t){if(e)for(var n in e)w.i.call(e,n)&&t.call(e,n,e[n])}function $(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}var ee=F||function(e){return!(!e||"[object Array]"!==H.call(e))};function te(e){return!(!e||"[object Error]"!==H.call(e))}function ne(e){return"string"==typeof e}function ae(e){return"number"==typeof e}function ie(e){return"boolean"==typeof e}function re(e){var t=!1;if(e&&"object"==typeof e){var n=z?z(e):G(e);n?(n.constructor&&w.i.call(n,"constructor")&&(n=n.constructor),t=typeof n===w.s&&R.call(n)===N):t=!0}return t}function oe(e){if(e)return U?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function se(e,t,n){var a=e.length;try{for(var i=0;i<a&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function ce(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var a=e.length,i=n||0;try{for(var r=Math.max(i>=0?i:a-Math.abs(i),0);r<a;r++)if(r in e&&e[r]===t)return r}catch(e){}}return-1}function de(e,t,n){var a;if(e){if(e.map)return e.map(t,n);var i=e.length,r=n||e;a=new Array(i);try{for(var o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e))}catch(e){}}return a}function le(e,t,n){var a;if(e){if(e.reduce)return e.reduce(t,n);var i=e.length,r=0;if(arguments.length>=3)a=arguments[2];else{for(;r<i&&!(r in e);)r++;a=e[r++]}for(;r<i;)r in e&&(a=t(a,e[r],r,e)),r++}return a}function ue(e){return e&&(e=P&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var fe=!{toString:null}.propertyIsEnumerable("toString"),pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function me(e){var t=typeof e;if(t===w.s||t===w.d&&null!==e||Object(O.n)("objKeys called on non-object"),!fe&&k)return k(e);var n=[];for(var a in e)e&&w.i.call(e,a)&&n.push(a);if(fe)for(var i=pe.length,r=0;r<i;r++)e&&w.i.call(e,pe[r])&&n.push(pe[r]);return n}function _e(e,t,n,a){if(A)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),a&&(i.set=a),A(e,t,i),!0}catch(e){}return!1}function he(e){return L&&Z(e,function(e,t){(ee(t)||Y(t))&&L(t)}),be(e)}var be=L||function(e){return e};function ge(){var e=Date;return e.now?e.now():(new e).getTime()}function ve(e){return te(e)?e.name:E}function ye(e,t,n,a,i){var r=n;return e&&((r=e[t])===n||i&&!i(r)||a&&!a(n)||(r=n,e[t]=r)),r}function Se(e,t,n){var a;return e?!(a=e[t])&&W(a)&&(a=K(n)?{}:n,e[t]=a):a=K(n)?{}:n,a}function De(e){return!e}function Ie(e){return!!e}function xe(e){throw new Error(e)}function Ce(e,t){var n=null,a=null;return J(e)?n=e:a=e,function(){var e=arguments;if(n&&(a=n()),a)return a[t].apply(a,e)}}function Oe(e,t,n,a,i){e&&t&&n&&(!1!==i||K(e[t]))&&(e[t]=Ce(n,a))}function we(e,t,n,a){return e&&t&&Y(e)&&ee(n)&&se(n,function(n){ne(n)&&Oe(e,n,t,n,a)}),e}function Ee(e){return e&&w.e&&(e=Object(w.t)(Object(w.e)({},e))),e}function Ae(e,t,n,a,i,r){var o=arguments,s=o[0]||{},c=o.length,d=!1,l=1;for(c>0&&ie(s)&&(d=s,s=o[l]||{},l++),Y(s)||(s={});l<c;l++){var u=o[l],f=ee(u),p=Y(u);for(var m in u){var _=f&&m in u||p&&w.i.call(u,m);if(_){var h=u[m],b=void 0;if(d&&h&&((b=ee(h))||re(h))){var g=s[m];b?ee(g)||(g=[]):re(g)||(g={}),h=Ae(d,g,h)}void 0!==h&&(s[m]=h)}}}return s}var Le="window",ke="JSON",Me="msie",Pe="trident/",Te="XMLHttpRequest",Ue=null,Fe=null,He=null,Re=null;function Ne(e,t){var n=!1;if(e){try{if(!(n=t in e)){var a=e[w.l];a&&(n=t in a)}}catch(e){}if(!n)try{n=!K((new e)[t])}catch(e){}}return n}function Be(e){var t=Object(O.e)();return t&&t[e]?t[e]:e===Le&&je()?window:null}function je(){return Boolean(typeof window===w.d&&window)}function Ve(){return je()?window:Be(Le)}function ze(){return Boolean(typeof document===w.d&&document)}function Ge(){return ze()?document:Be("document")}function Ke(){return Boolean(typeof navigator===w.d&&navigator)}function We(){return Ke()?navigator:Be("navigator")}function qe(){return Boolean(typeof history===w.d&&history)}function Qe(e){return typeof location===w.d&&location?location:Be("location")}function Ye(){return Be("performance")}function Je(){return Boolean(typeof JSON===w.d&&JSON||null!==Be(ke))}function Xe(){return Je()?JSON||Be(ke):null}function Ze(){var e=We();if(e&&(e.userAgent!==Fe||null===Ue)){var t=((Fe=e.userAgent)||E).toLowerCase();Ue=$(t,Me)||$(t,Pe)}return Ue}function $e(e){if(void 0===e&&(e=null),!e){var t=We()||{};e=t?(t.userAgent||E).toLowerCase():E}var n=(e||E).toLowerCase();if($(n,Me)){var a=Ge()||{};return Math.max(parseInt(n.split(Me)[1]),a.documentMode||0)}if($(n,Pe)){var i=parseInt(n.split(Pe)[1]);if(i)return i+4}return null}function et(e){var t=Object[w.l].toString.call(e),n=E;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Je()&&(n=Xe().stringify(e)),t+n}function tt(){return null===Re&&(Re=Ke()&&Boolean(We().sendBeacon)),Re}function nt(e){var t=!1;try{t=!!Be("fetch");var n=Be("Request");t&&e&&n&&(t=Ne(n,"keepalive"))}catch(e){}return t}function at(){return null===He&&(He=typeof XDomainRequest!==w.u)&&it()&&(He=He&&!Ne(Be(Te),"withCredentials")),He}function it(){var e=!1;try{e=!!Be(Te)}catch(e){}return e}var rt,ot=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],st=null;function ct(e,t){return function(){var n=arguments,a=dt(t);if(a){var i=a.listener;i&&i[e]&&i[e].apply(i,n)}}}function dt(e){var t,n=st;return n||!0===e.disableDbgExt||(n=st||((t=Be("Microsoft"))&&(st=t.ApplicationInsights),st)),n?n.ChromeDbgExt:null}function lt(e){return e?'"'+e.replace(/\"/g,E)+'"':E}function ut(e,t){var n=typeof console!==w.u?console:Be("console");if(n){var a="log";n[e]&&(a=e),J(n[a])&&n[a](t)}}var ft=function(){function e(e,t,n,a){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var r=E;Je()&&(r=Xe().stringify(a));var o=(t?" message:"+lt(t):E)+(a?" props:"+lt(r):E);i.message+=o}return e.dataType="MessageData",e}();function pt(e,t){return(e||{}).logger||new mt(t)}var mt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,a={};x(e,this,function(e){function i(e,n){var a=t[e];return W(a)?n:a}function r(e,n){var a=dt(t);a&&a.diagLog&&a.diagLog(e,n)}W(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var c=new ft(n,i,s,o);if(e.enableDebugExceptions())throw c;var d=1===t?"errorToConsole":"warnToConsole";if(K(c.message))r("throw"+(1===t?"Critical":"Warning"),c);else{var l=e.consoleLoggingLevel();if(s){var u=+c.messageId;!a[u]&&l>=t&&(e[d](c.message),a[u]=!0)}else l>=t&&e[d](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){ut("warn",e),r("warning",e)},e.errorToConsole=function(e){ut("error",e),r("error",e)},e.resetInternalMessageCount=function(){n=0,a={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(a[s]?o=!1:a[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++,r(1===t?"error":"warn",i)),n===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",d=new ft(23,c,!1);e.queue.push(d),1===t?e.errorToConsole(c):e.warnToConsole(c)}}}})};function _t(e){return e||new mt}function ht(e,t,n,a,i,r){void 0===r&&(r=!1),(e||new mt).throwInternal(t,n,a,i,r)}function bt(e,t){_t(e).warnToConsole(t)}var gt=function(){function e(t,n,a){var i,r=this,o=!1;r.start=ge(),r.name=t,r.isAsync=a,r.isChildEvt=function(){return!1},J(n)&&(o=_e(r,"payload",function(){return!i&&J(n)&&(i=n(),n=null),i})),r.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?r[t]:(r.ctx||{})[t]:null},r.setCtx=function(t,n){t&&(t===e.ParentContextKey?(r[t]||(r.isChildEvt=function(){return!0}),r[t]=n):t===e.ChildrenContextKey?r[t]=n:(r.ctx=r.ctx||{})[t]=n)},r.complete=function(){var t=0,a=r.getCtx(e.ChildrenContextKey);if(ee(a))for(var i=0;i<a.length;i++){var s=a[i];s&&(t+=s.time)}r.time=ge()-r.start,r.exTime=r.time-t,r.complete=function(){},!o&&J(n)&&(r.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),vt=function e(t){this.ctx={},x(e,this,function(e){e.create=function(e,t,n){return new gt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&J(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}})},yt="CoreUtils.doPerf";function St(e,t,n,a,i){if(e){var r=e;if(J(r.getPerfMgr)&&(r=r.getPerfMgr()),r){var o=void 0,s=r.getCtx(yt);try{if(o=r.create(t(),a,i)){if(s&&o.setCtx&&(o.setCtx(gt.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(gt.ChildrenContextKey);c||(c=[],s.setCtx(gt.ChildrenContextKey,c)),c.push(o)}return r.setCtx(yt,o),n(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&r.fire(o),r.setCtx(yt,s)}}}return n()}var Dt=4294967296,It=4294967295,xt=!1,Ct=123456789,Ot=987654321;function wt(e){e<0&&(e>>>=0),Ct=123456789+e&It,Ot=987654321-e&It,xt=!0}function Et(){try{var e=2147483647&ge();wt((Math.random()*Dt^e)+e)}catch(e){}}function At(e){return e>0?Math.floor(Lt()/It*(e+1))>>>0:0}function Lt(e){var t=0,n=Be("crypto")||Be("msCrypto");return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&It),0===t&&Ze()&&(xt||Et(),t=kt()&It),0===t&&(t=Math.floor(Dt*Math.random()|0)),e||(t>>>=0),t}function kt(e){var t=((Ot=36969*(65535&Ot)+(Ot>>16)&It)<<16)+(65535&(Ct=18e3*(65535&Ct)+(Ct>>16)&It))>>>0&It|0;return e||(t>>>=0),t}function Mt(e){void 0===e&&(e=22);for(var t=Lt()>>>0,n=0,a=E;a.length<e;)n++,a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Lt()<<2&4294967295|3&t)>>>0,n=0);return a}var Pt=w.a,Tt="."+Mt(6),Ut=0;function Ft(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Ht(e,t){return void 0===t&&(t=!1),X(e+Ut+++(t?".2.8.1":"")+Tt)}function Rt(e){var t={id:Ht("_aiData-"+(e||"")+".2.8.1"),accept:function(e){return Ft(e)},get:function(e,n,a,i){var r=e[t.id];return r?r[X(n)]:(i&&((r=function(e,t){var n=t[e.id];if(!n){n={};try{Ft(t)&&(function(e,t,n){if(Pt)try{return Pt(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[X(n)]=a),a)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}var Nt=Rt("plugin");function Bt(e){return Nt.get(e,"state",{},!0)}function jt(e,t){for(var n,a=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&J(i.setNextPlugin)&&J(o.processTelemetry)&&i.setNextPlugin(o),(J(o.isInitialized)?o.isInitialized():(n=Bt(o)).isInitialized)||a.push(o),i=o,r=r.getNext())}se(a,function(a){var i=e.core();a.initialize(e.getCfg(),i,t,e.getNext()),n=Bt(a),a.core||n.core||(n.core=i),n.isInitialized=!0,delete n.teardown})}function Vt(e){return e.sort(function(e,t){var n=0,a=J(t.processTelemetry);return J(e.processTelemetry)?n=a?e.priority-t.priority:1:a&&(n=-1),n})}var zt=0;function Gt(e,t,n,a){var i=null,r=[];null!==a&&(i=a?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return Qt([n],t.config||{},t)}(e,n,a):e);var o={_next:function(){var e=i;if(i=e?e.getNext():null,!e){var t=r;t&&t.length>0&&(se(t,function(e){try{e.func.call(e.self,e.args)}catch(e){ht(n.logger,2,73,"Unexpected Exception during onComplete - "+et(e))}}),r=[])}return e},ctx:{core:function(){return n},diagLog:function(){return pt(n,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(e,n,a){void 0===a&&(a=!1);var i,r=s(e,null);return r&&!W(r[n])?i=r[n]:t&&!W(t[n])&&(i=t[n]),W(i)?a:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];e&&r.push({func:e,self:K(t)?o.ctx:t,args:n})}}};function s(e,n,a){var i;if(void 0===n&&(n={}),void 0===a&&(a=0),t){var r=t.extensionConfig;r&&e&&(i=r[e])}if(i){if(Y(n)&&0!==a){var o=Ae(!0,n,i);t&&2===a&&Z(n,function(e){if(W(o[e])){var n=t[e];W(n)||(o[e]=n)}}),i=o}}else i=n;return i}return o}function Kt(e,t,n,a){var i=Gt(e,t,n,a),r=i.ctx;return r.processNext=function(e){var t=i._next();return t&&t.processTelemetry(e,r),!t},r.createNew=function(e,a){return void 0===e&&(e=null),ee(e)&&(e=Qt(e,t,n,a)),Kt(e||r.getNext(),t,n,a)},r}function Wt(e,t,n){var a=t.config||{},i=Gt(e,a,t,n),r=i.ctx;return r.processNext=function(e){var t=i._next();return t&&t.unload(r,e),!t},r.createNew=function(e,n){return void 0===e&&(e=null),ee(e)&&(e=Qt(e,a,t,n)),Wt(e||r.getNext(),t,n)},r}function qt(e,t,n){var a=t.config||{},i=Gt(e,a,t,n).ctx;return i.processNext=function(e){return i.iterate(function(t){J(t.update)&&t.update(i,e)})},i.createNew=function(e,n){return void 0===e&&(e=null),ee(e)&&(e=Qt(e,a,t,n)),qt(e||i.getNext(),t,n)},i}function Qt(e,t,n,a){var i=null,r=!a;if(ee(e)&&e.length>0){var o=null;se(e,function(e){if(r||a!==e||(r=!0),r&&e&&J(e.processTelemetry)){var s=function(e,t,n){var a,i=null,r=J(e.processTelemetry),o=J(e.setNextPlugin),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(a,d){c(d=d||function(){var a;return e&&J(e._getTelCtx)&&(a=e._getTelCtx()),a||(a=Kt(s,t,n)),a}(),function(t){if(!e||!r)return!1;var n=Bt(e);return!n.teardown&&!n.disabled&&(o&&e.setNextPlugin(i),e.processTelemetry(a,t),!0)},"processTelemetry",function(){return{item:a}},!a.sync)||d.processNext(a)},unload:function(t,n){c(t,function(){var a=!1;if(e){var i=Bt(e),r=e.core||i.core;!e||r&&r!==t.core()||i.teardown||(i.core=null,i.teardown=!0,i.isInitialized=!1,e.teardown&&!0===e.teardown(t,n)&&(a=!0))}return a},"unload",function(){},n.isAsync)||t.processNext(n)},update:function(t,n){c(t,function(){var a=!1;if(e){var i=Bt(e),r=e.core||i.core;!e||r&&r!==t.core()||i.teardown||e.update&&!0===e.update(t,n)&&(a=!0)}return a},"update",function(){},!1)||t.processNext(n)},_id:a=e?e.identifier+"-"+e.priority+"-"+zt++:"Unknown-0-"+zt++,_setNext:function(e){i=e}};function c(t,n,r,o,s){var c=!1,d=e?e.identifier:"TelemetryPluginChain",l=t._hasRun;return l||(l=t._hasRun={}),t.setNext(i),e&&St(t.core(),function(){return d+":"+r},function(){l[a]=!0;try{var e=i?i._id:E;e&&(l[e]=!1),c=n(t)}catch(e){var o=!i||l[i._id];o&&(c=!0),i&&o||ht(t.diagLog(),1,73,"Plugin ["+d+"] failed during "+r+" - "+et(e)+", run flags: "+et(l))}},o,s),c}return be(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}})}return a&&!i?Qt([a],t,n):i}var Yt="toGMTString",Jt="toUTCString",Xt=null,Zt=null,$t=null,en=Ge(),tn={},nn={};function an(e,t){var n=sn._ckMgr||nn._ckMgr;return n||(n=sn._ckMgr=sn(e,t),nn._ckMgr=n),n}function rn(e){return!e||e.isEnabled()}function on(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var a=t.cookieCfg;n=a._ckMgr?a._ckMgr:sn(t)}return n||(n=an(t,(e||{}).logger)),n}function sn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(ye(t,"domain",e.cookieDomain,q,W),ye(t,"path",e.cookiePath||"/",null,W),W(t.enabled)){var n=void 0;K(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),K(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||nn),a=n.path||"/",i=n.domain,r=!1!==n.enabled,o={isEnabled:function(){var e=r&&cn(t),n=nn._ckMgr;return e&&n&&o!==n&&(e=rn(n)),e},setEnabled:function(e){r=!1!==e},set:function(e,t,r,s,c){var d=!1;if(rn(o)){var l={},u=ue(t||E),f=u.indexOf(";");if(-1!==f&&(u=ue(t.substring(0,f)),l=dn(t.substring(f+1))),ye(l,"domain",s||i,Ie,K),!W(r)){var p=Ze();if(K(l.expires)){var m=ge()+1e3*r;if(m>0){var _=new Date;_.setTime(m),ye(l,"expires",ln(_,p?Yt:Jt)||ln(_,p?Yt:Jt)||E,Ie)}}p||ye(l,"max-age",E+r,null,K)}var h=Qe();h&&"https:"===h.protocol&&(ye(l,"secure",null,null,K),null===Zt&&(Zt=!function(e){return!(!ne(e)||!$(e,"CPU iPhone OS 12")&&!$(e,"iPad; CPU OS 12")&&!($(e,"Macintosh; Intel Mac OS X 10_14")&&$(e,"Version/")&&$(e,"Safari"))&&(!$(e,"Macintosh; Intel Mac OS X 10_14")||(t=e,n="AppleWebKit/605.1.15 (KHTML, like Gecko)",a=!1,t&&!(a=t===n)&&(a=T?t.endsWith(n):function(e,t){var n=!1,a=t.length,i=e?e.length:0;if(a&&i&&i>=a&&!(n=e===t)){for(var r=i-1,o=a-1;o>=0;o--){if(e[r]!=t[o])return!1;r--}n=!0}return n}(t,n)),!a))&&!$(e,"Chrome/5")&&!$(e,"Chrome/6")&&(!$(e,"UnrealEngine")||$(e,"Chrome"))&&!$(e,"UCBrowser/12")&&!$(e,"UCBrowser/11"));var t,n,a}((We()||{}).userAgent)),Zt&&ye(l,"SameSite","None",null,K)),ye(l,"path",c||a,null,K),(n.setCookie||pn)(e,un(u,l)),d=!0}return d},get:function(e){var t=E;return rn(o)&&(t=(n.getCookie||fn)(e)),t},del:function(e,t){var n=!1;return rn(o)&&(n=o.purge(e,t)),n},purge:function(e,a){var i,r=!1;if(cn(t)){var o=((i={}).path=a||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);Ze()||(o["max-age"]="0"),(n.delCookie||pn)(e,un(E,o)),r=!0}return r}};return o._ckMgr=o,o}function cn(e){if(null===Xt){Xt=!1;try{Xt=void 0!==(en||{}).cookie}catch(t){ht(e,2,68,"Cannot access document.cookie - "+ve(t),{exception:et(t)})}}return Xt}function dn(e){var t={};return e&&e.length&&se(ue(e).split(";"),function(e){if(e=ue(e||E)){var n=e.indexOf("=");-1===n?t[e]=null:t[ue(e.substring(0,n))]=ue(e.substring(n+1))}}),t}function ln(e,t){return J(e[t])?e[t]():null}function un(e,t){var n=e||E;return Z(t,function(e,t){n+="; "+e+(W(t)?E:"="+t)}),n}function fn(e){var t=E;if(en){var n=en.cookie||E;$t!==n&&(tn=dn(n),$t=n),t=ue(tn[e]||E)}return t}function pn(e,t){en&&(en.cookie=e+"="+t)}var mn="extensionConfig";function _n(e,t,n,a){t&&ee(t)&&t.length>0&&(se(t=t.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&xe("Channel has invalid priority - "+e.identifier)}),e.push({queue:be(t),chain:Qt(t,n,a)}))}function hn(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){se(e,function(e){try{e(t,n)}catch(e){ht(t.diagLog(),2,73,"Unexpected error calling unload handler - "+et(e))}}),e=[]}}}var bn=function e(){var t,n,a,i,r,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||Kt(null,{},o.core);t=a&&a.getPlugin?i.createNew(null,a.getPlugin):i.createNew(null,a)}return t}function c(e,t,i){e&&ye(e,mn,[],null,W),!i&&t&&(i=t.getProcessTelContext().getNext());var r=a;a&&a.getPlugin&&(r=a.getPlugin()),o.core=t,n=Kt(i,e,t,r)}function d(){t=!1,o.core=null,n=null,a=null,r=[],i=hn()}d(),x(e,o,function(e){e.initialize=function(e,n,a,i){c(e,n,i),t=!0},e.teardown=function(t,n){var o=e.core;if(o&&(!t||o===t.core())){var s,c=!1,l=t||Wt(null,o,a&&a.getPlugin?a.getPlugin():a),u=n||{reason:0,isAsync:!1};return e._doTeardown&&!0===e._doTeardown(l,u,f)?s=!0:f(),s}function f(){c||(c=!0,i.run(l,n),se(r,function(e){e.rm()}),r=[],!0===s&&l.processNext(u),d())}},e.update=function(t,n){var i=e.core;if(i&&(!t||i===t.core())){var r,o=!1,s=t||qt(null,i,a&&a.getPlugin?a.getPlugin():a),d=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,d,l)?r=!0:l(),r}function l(){o||(o=!0,c(s.getCfg(),s.core(),s.getNext()))}},e._addHook=function(e){e&&(ee(e)?r=r.concat(e):r.push(e))},Oe(e,"_addUnloadCb",function(){return i},"add")}),o.diagLog=function(e){return s(e).diagLog()},o.isInitialized=function(){return t},o.setInitialized=function(e){t=e},o.setNextPlugin=function(e){a=e},o.processNext=function(e,t){t?t.processNext(e):a&&J(a.processTelemetry)&&a.processTelemetry(e,null)},o._getTelCtx=s},gn=function(e){function t(){var n,a,i=e.call(this)||this;function r(){n=0,a=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,r(),x(t,i,function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return a.push(t),{remove:function(){se(a,function(e,n){if(e.id===t.id)return a.splice(n,1),-1})}}},e.processTelemetry=function(t,n){for(var i=!1,r=a.length,o=0;o<r;++o){var s=a[o];if(s)try{if(!1===s.fn.apply(null,[t])){i=!0;break}}catch(e){ht(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ve(e),{exception:et(e)},!0)}}i||e.processNext(t,n)},e._doTeardown=function(){r()}}),i}return Object(C.t)(t,e),t}(bn),vn="Plugins must provide initialize method",yn="SDK is still unloading...",Sn={loggingLevelConsole:1};function Dn(e,t){return new vt(t)}function In(e,t){var n=!1;return se(t,function(t){if(t===e)return n=!0,-1}),n}function xn(e,t,n,a){se(e,function(e){if(e&&e[t])if(n)setTimeout(function(){return a(e)},0);else try{a(e)}catch(e){}})}var Cn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;x(e,this,function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=ce(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=ce(e.listeners,t)},e.eventsSent=function(t){xn(e.listeners,"eventsSent",!0,function(e){e.eventsSent(t)})},e.eventsDiscarded=function(t,n){xn(e.listeners,"eventsDiscarded",!0,function(e){e.eventsDiscarded(t,n)})},e.eventsSendRequest=function(t,n){xn(e.listeners,"eventsSendRequest",n,function(e){e.eventsSendRequest(t,n)})},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||xn(e.listeners,"perfEvent",!1,function(e){t.isAsync?setTimeout(function(){return e.perfEvent(t)},0):e.perfEvent(t)}))}})},On=function(e){function t(){var n=e.call(this)||this;return x(t,n,function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,a,i){t.initialize(e,n,a||new mt(e),i||new Cn(e))},e.track=function(a){St(e.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===a&&(n(a),xe("Invalid telemetry item")),function(e){W(e.name)&&(n(e),xe("telemetry name required"))}(a),t.track(a)},function(){return{item:a}},!a.sync)}}),n}return Object(C.t)(t,e),t}(function e(){var t,n,a,i,r,o,s,c,d,l,u,f,p,m,_,h,b,g,v=0;x(e,this,function(e){function y(){t=!1,e.config=Ae(!0,{},Sn),e.logger=new mt(e.config),e._extensions=[],m=new gn,n=[],a=null,i=null,r=null,o=null,s=null,d=null,c=[],l=null,u=null,f=null,p=!1,_=null,h=Ht("AIBaseCore",!0),b=hn()}function S(){return Kt(x(),e.config,e)}function D(t,n){var a=function(e,t,n){var a=[],i={};return se(n,function(t){(W(t)||W(t.initialize))&&xe(vn);var n=t.priority,r=t.identifier;t&&n&&(W(i[n])?i[n]=r:bt(e,"Two extensions have same priority #"+n+" - "+i[n]+", "+r)),(!n||n<500)&&a.push(t)}),{all:n,core:a}}(e.logger,0,c);d=a.core,s=null;var i=a.all;if(f=be(function(e,t,n,a){var i=[];if(e&&se(e,function(e){return _n(i,e,n,a)}),t){var r=[];se(t,function(e){e.priority>500&&r.push(e)}),_n(i,r,n,a)}return i}(u,i,t,e)),l){var r=i.indexOf(l);-1!==r&&i.splice(r,1),-1!==(r=d.indexOf(l))&&d.splice(r,1),l._setQueue(f)}else l=function(e,t){var n;function a(){return Kt(null,t.config,t,null)}function i(e,t,n,a){var i=e?e.length+1:1;function r(){0==--i&&(a&&a(),a=null)}i>0&&se(e,function(e){if(e&&e.queue.length>0){var a=e.chain,o=t.createNew(a);o.onComplete(r),n(o)}else i--}),r()}var r=!1,o=(n={identifier:"ChannelControllerPlugin",priority:500,initialize:function(t,n,a,i){r=!0,se(e,function(e){e&&e.queue.length>0&&jt(Kt(e.chain,t,n),a)})},isInitialized:function(){return r},processTelemetry:function(t,n){i(e,n||a(),function(e){e.processNext(t)},function(){n.processNext(t)})},update:function(t,n){var a=n||{reason:0};return i(e,t,function(e){e.processNext(a)},function(){t.processNext(a)}),!0}},n.pause=function(){i(e,a(),function(e){e.iterate(function(e){e.pause&&e.pause()})},null)},n.resume=function(){i(e,a(),function(e){e.iterate(function(e){e.resume&&e.resume()})},null)},n.teardown=function(t,n){var a=n||{reason:0,isAsync:!1};return i(e,t,function(e){e.processNext(a)},function(){t.processNext(a),r=!1}),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&se(e,function(e){if(e&&e.queue.length>0&&(se(e.queue,function(e){if(e.identifier===t)return n=e,-1}),n))return-1}),n},n.flush=function(t,n,r,o){var s=1,c=!1,d=null;function l(){s--,c&&0===s&&(d&&(clearTimeout(d),d=null),n&&n(c),n=null)}return o=o||5e3,i(e,a(),function(e){e.iterate(function(e){if(e.flush){s++;var n=!1;e.flush(t,function(){n=!0,l()},r)||n||(t&&null==d?d=setTimeout(function(){d=null,l()},o):l())}})},function(){c=!0,l()}),!0},n._setQueue=function(t){e=t},n);return o}(f,e);i.push(l),d.push(l),e._extensions=Vt(i),l.initialize(t,e,i),jt(S(),i),e._extensions=be(Vt(d||[])).slice(),n&&function(t){var n=qt(x(),e);e._updateHook&&!0===e._updateHook(n,t)||n.processNext(t)}(n)}function I(t){var n=null,a=null;return se(e._extensions,function(e){if(e.identifier===t&&e!==l&&e!==m)return a=e,-1}),!a&&l&&(a=l.getChannel(t)),a&&(n={plugin:a,setEnabled:function(e){Bt(a).disabled=!e},isEnabled:function(){var e=Bt(a);return!e.teardown&&!e.disabled},remove:function(t,n){void 0===t&&(t=!0);var i=[a];w(i,{reason:1,isAsync:t},function(t){t&&D(e.config,{reason:32,removed:i}),n&&n(t)})}}),n}function x(){if(!s){var t=(d||[]).slice();-1===t.indexOf(m)&&t.push(m),s=Qt(Vt(t),e.config,e)}return s}function w(t,n,a){if(t&&t.length>0){var i=Wt(Qt(t,e.config,e),e);i.onComplete(function(){var e=!1,n=[];se(c,function(a,i){In(a,t)?e=!0:n.push(a)}),c=n;var i=[];u&&(se(u,function(n,a){var r=[];se(n,function(n){In(n,t)?e=!0:r.push(n)}),i.push(r)}),u=i),a&&a(e)}),i.processNext(n)}else a(!1)}function E(){var t=e.logger?e.logger.queue:[];t&&(se(t,function(t){var n={name:_||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:oe(new Date),baseType:ft.dataType,baseData:{message:t.message}};e.track(n)}),t.length=0)}function A(e,t,n,a){return l?l.flush(e,t,n||6,a):(t&&t(!1),!0)}function L(t){var n=e.logger;n?ht(n,2,73,t):xe(t)}y(),e.isInitialized=function(){return t},e.initialize=function(n,i,o,s){p&&xe(yn),e.isInitialized()&&xe("Core should not be initialized more than once"),n&&!W(n.instrumentationKey)||xe("Please provide instrumentation key"),a=s,e._notificationManager=s,e.config=n||{},function(e){!0===e.disableDbgExt&&g&&(a.removeNotificationListener(g),g=null),a&&!g&&!0!==e.disableDbgExt&&(g=function(e){if(!rt){rt={};for(var t=0;t<ot.length;t++)rt[ot[t]]=ct(ot[t],e)}return rt}(e),a.addNotificationListener(g))}(n),function(t){!t.enablePerfMgr&&r&&(r=null),t.enablePerfMgr&&ye(e.config,"createPerfMgr",Dn)}(n),n.extensions=W(n.extensions)?[]:n.extensions,function(e){Se(e,mn).NotificationManager=a}(n),o&&(e.logger=o),(c=[]).push.apply(c,Object(C.n)(Object(C.n)([],i,!1),n.extensions,!1)),u=(n||{}).channels,D(n,null),f&&0!==f.length||xe("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return f&&se(f,function(t){e.push(t.queue)}),be(e)},e.track=function(t){ye(t,"iKey",e.config.instrumentationKey,null,De),ye(t,"time",oe(new Date),null,De),ye(t,"ver","4.0",null,W),!p&&e.isInitialized()?S().processNext(t):n.push(t)},e.getProcessTelContext=S,e.getNotifyMgr=function(){var t;return a||(a=Object(O.t)(((t={}).addNotificationListener=function(e){},t.removeNotificationListener=function(e){},t.eventsSent=function(e){},t.eventsDiscarded=function(e,t){},t.eventsSendRequest=function(e,t){},t)),e._notificationManager=a),a},e.addNotificationListener=function(e){a&&a.addNotificationListener(e)},e.removeNotificationListener=function(e){a&&a.removeNotificationListener(e)},e.getCookieMgr=function(){return o||(o=sn(e.config,e.logger)),o},e.setCookieMgr=function(e){o=e},e.getPerfMgr=function(){return i||r||e.config&&e.config.enablePerfMgr&&J(e.config.createPerfMgr)&&(r=e.config.createPerfMgr(e,e.getNotifyMgr())),i||r||null},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],se(e,function(e){S().processNext(e)})}},e.pollInternalLogs=function(t){_=t||null;var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),v&&clearInterval(v),v=setInterval(function(){E()},n)},e.stopPollingInternalLogs=function(){v&&(clearInterval(v),v=0,E())},we(e,function(){return m},["addTelemetryInitializer"]),e.unload=function(n,a,i){void 0===n&&(n=!0),t||xe("SDK is not initialized"),p&&xe(yn);var r={reason:50,isAsync:n,flushComplete:!1},o=Wt(x(),e);function s(t){r.flushComplete=t,p=!0,b.run(o,r),e.stopPollingInternalLogs(),o.processNext(r)}o.onComplete(function(){y(),a&&a(r)},e),A(n,s,6,i)||s(!1)},e.getPlugin=I,e.addPlugin=function(t,n,a,i){if(!t)return i&&i(!1),void L(vn);var r=I(t.identifier);if(r&&!n)return i&&i(!1),void L("Plugin ["+t.identifier+"] is already loaded!");var o={reason:16};function s(n){c.push(t),o.added=[t],D(e.config,o),i&&i(!0)}if(r){var d=[r.plugin];w(d,{reason:2,isAsync:!!a},function(e){e?(o.removed=d,o.reason|=32,s()):i&&i(!1)})}else s()},e.evtNamespace=function(){return h},e.flush=A,Oe(e,"addUnloadCb",function(){return b},"add")})}),wn="events",En="visibilitychange",An="pagehide",Ln="unload",kn="beforeunload",Mn=Ht("aiEvtPageHide"),Pn=(Ht("aiEvtPageShow"),/\.[\.]+/g),Tn=/[\.]+$/,Un=1,Fn=Rt("events"),Hn=/^([^.]*)(?:\.(.+)|)/;function Rn(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Nn(e,t){if(t){var n="";ee(t)?(n="",se(t,function(e){(e=Rn(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=Rn(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var a=Hn.exec(e||"")||[];return{type:a[1],ns:(a[2]||"").replace(Pn,".").replace(Tn,"").split(".").sort().join(".")}}function Bn(e,t,n){void 0===n&&(n=!0);var a=Fn.get(e,wn,{},n),i=a[t];return i||(i=a[t]=[]),i}function jn(e,t,n,a){e&&t&&t.type&&(e.removeEventListener?e.removeEventListener(t.type,n,a):e.detachEvent&&e.detachEvent("on"+t.type,n))}function Vn(e,t,n,a){for(var i=t.length;i--;){var r=t[i];r&&(n.ns&&n.ns!==r.evtName.ns||a&&!a(r)||(jn(e,r.evtName,r.handler,r.capture),t.splice(i,1)))}}function zn(e,t){return t?Nn("xx",ee(t)?[e].concat(t):[e,t]).ns.split("."):e}function Gn(e,t,n,a,i){void 0===i&&(i=!1);var r=!1;if(e)try{var o=Nn(t,a);if(r=function(e,t,n,a){var i=!1;return e&&t&&t.type&&n&&(e.addEventListener?(e.addEventListener(t.type,n,a),i=!0):e.attachEvent&&(e.attachEvent("on"+t.type,n),i=!0)),i}(e,o,n,i),r&&Fn.accept(e)){var s={guid:Un++,evtName:o,handler:n,capture:i};Bn(e,o.type).push(s)}}catch(e){}return r}function Kn(e,t,n,a,i){if(void 0===i&&(i=!1),e)try{var r=Nn(t,a),o=!1;!function(e,t,n){if(t.type)Vn(e,Bn(e,t.type),t,n);else{var a=Fn.get(e,wn,{});Z(a,function(a,i){Vn(e,i,t,n)}),0===me(a).length&&Fn.kill(e,wn)}}(e,r,function(e){return!((!r.ns||n)&&e.handler!==n||(o=!0,0))}),o||jn(e,r,n,i)}catch(e){}}function Wn(e,t,n){var a=!1,i=Ve();i&&(a=Gn(i,e,t,n),a=Gn(i.body,e,t,n)||a);var r=Ge();return r&&(a=Gn(r,e,t,n)||a),a}function qn(e,t,n,a){var i=!1;return t&&e&&e.length>0&&se(e,function(e){e&&(n&&-1!==ce(n,e)||(i=Wn(e,t,a)||i))}),i}function Qn(e,t,n){e&&ee(e)&&se(e,function(e){e&&function(e,t,n){var a=Ve();a&&(Kn(a,e,t,n),Kn(a.body,e,t,n));var i=Ge();i&&Kn(i,e,t,n)}(e,t,n)})}function Yn(e,t,n){var a=zn(Mn,n),i=qn([An],e,t,a);return t&&-1!==ce(t,En)||(i=qn([En],function(t){var n=Ge();e&&n&&"hidden"===n.visibilityState&&e(t)},t,a)||i),!i&&t&&(i=Yn(e,null,n)),i}function Jn(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function Xn(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,a=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,r=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,a=a.length<2?"0"+a:a,(r>0?r+".":"")+(i=i.length<2?"0"+i:i)+":"+a+":"+n+"."+t}function Zn(e){var t={};return Z(e,function(e,n){t[e]=n,t[n]=e}),he(t)}var $n=Zn({LocalStorage:0,SessionStorage:1}),ea=Zn({AI:0,AI_AND_W3C:1,W3C:2}),ta=void 0,na=void 0;function aa(){return oa()?ia($n.LocalStorage):null}function ia(e){try{if(W(Object(O.e)()))return null;var t=(new Date).toString(),n=Be(e===$n.LocalStorage?"localStorage":"sessionStorage");n.setItem(t,t);var a=n.getItem(t)!==t;if(n.removeItem(t),!a)return n}catch(e){}return null}function ra(){return sa()?ia($n.SessionStorage):null}function oa(e){return(e||void 0===ta)&&(ta=!!ia($n.LocalStorage)),ta}function sa(e){return(e||void 0===na)&&(na=!!ia($n.SessionStorage)),na}function ca(e,t){var n=ra();if(null!==n)try{return n.getItem(t)}catch(t){na=!1,ht(e,2,2,"Browser failed read of session storage. "+ve(t),{exception:et(t)})}return null}function da(e,t,n){var a=ra();if(null!==a)try{return a.setItem(t,n),!0}catch(t){na=!1,ht(e,2,4,"Browser failed write to session storage. "+ve(t),{exception:et(t)})}return!1}var la="AppInsightsPropertiesPlugin",ua="AppInsightsChannelPlugin";function fa(e,t,n){var a,i=t.length,r=function(e,t){var n;return t&&(t=ue(t.toString())).length>150&&(n=t.substring(0,150),ht(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(r.length!==i){for(var o=0,s=r;void 0!==n[s];)o++,s=r.substring(0,147)+(a=void 0,(a="00"+o).substr(a.length-3));r=s}return r}function pa(e,t,n){var a;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ue(t)).toString().length>n&&(a=t.toString().substring(0,n),ht(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),a||t}function ma(e,t){return ga(e,t,2048,66)}function _a(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),ht(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function ha(e,t){if(t){var n={};Z(t,function(t,a){if(Y(a)&&Je())try{a=Xe().stringify(a)}catch(t){ht(e,2,49,"custom property is not valid",{exception:t},!0)}a=pa(e,a,8192),t=fa(e,t,n),n[t]=a}),t=n}return t}function ba(e,t){if(t){var n={};Z(t,function(t,a){t=fa(e,t,n),n[t]=a}),t=n}return t}function ga(e,t,n,a){var i;return t&&(t=ue(t)).length>n&&(i=t.substring(0,n),ht(e,2,a,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}var va="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ya="http.method",Sa="not_specified";function Da(e,t,n,a,i,r){n=pa(a,n)||Sa,(W(e)||W(t)||W(n))&&xe("Input doesn't contain all required fields");var o="";e.iKey&&(o=e.iKey,delete e.iKey);var s={name:n,time:oe(new Date),iKey:o,ext:r||{},tags:[],data:{},baseType:t,baseData:e};return W(i)||Z(i,function(e,t){s.data[e]=t}),s}var Ia=function(){function e(e,t,n,a){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i.name=pa(e,t)||Sa,i.properties=ha(e,n),i.measurements=ba(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),xa=function(){function e(e,t,n,a,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var r=this;r.ver=2,t=t||Sa,r.message=_a(e,t),r.properties=ha(e,a),r.measurements=ba(e,i),n&&(r.severityLevel=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),Ca=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Oa=function(){function e(e,t,n,a,i,r,o,s,c){this.aiDataContract={ver:1,metrics:1,properties:0};var d=this;d.ver=2;var l=new Ca;l.count=a>0?a:void 0,l.max=isNaN(r)||null===r?void 0:r,l.min=isNaN(i)||null===i?void 0:i,l.name=pa(e,t)||Sa,l.value=n,l.stdDev=isNaN(o)||null===o?void 0:o,d.metrics=[l],d.properties=ha(e,s),d.measurements=ba(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),wa=function(){function e(e,t,n,a,i,r,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=function(e,t){return t?ga(e,t,128,69).toString():t}(e,o),s.url=ma(e,n),s.name=pa(e,t)||Sa,isNaN(a)||(s.duration=Xn(a)),s.properties=ha(e,i),s.measurements=ba(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Ea=function(){function e(e,t,n,a,i,r,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=ma(e,n),s.name=pa(e,t)||Sa,s.properties=ha(e,i),s.measurements=ba(e,r),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();function Aa(e,t){var n=e;return n&&!ne(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=J(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function La(e,t){var n=e;return e&&(n&&!ne(n)&&(n=e.message||e.description||n),n&&!ne(n)&&(n=Aa(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function ka(e){return e&&e.src&&ne(e.src)&&e.obj&&ee(e.obj)}function Ma(e){var t=e||"";ne(t)||(t=ne(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function Pa(e){var t=null;if(e)try{if(e.stack)t=Ma(e.stack);else if(e.error&&e.error.stack)t=Ma(e.error.stack);else if(e.exception&&e.exception.stack)t=Ma(e.exception.stack);else if(ka(e))t=e;else if(ka(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),a=0;a<n.length;a++){var i=n[a];n[a+1]&&(i+="@"+n[a+1],a++),t.push(i)}return{src:e,obj:t}}(e.message);else if(ne(e))t=Ma(e);else{var n=e.message||e.description||"";ne(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=Ma(n))}}catch(e){t=Ma(e)}return t||{src:"",obj:null}}function Ta(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Ua(e){if(e)try{if(!ne(e)){var t=Ta(e),n=Aa(e,!1);return n&&"{}"!==n||(e.error&&(t=Ta(e=e.error)),n=Aa(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Fa,Ha=function(){function e(e,t,n,a,i,r){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,function(e){try{if(Y(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(o.exceptions=t.exceptions||[],o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),W(t.isManual)||(o.isManual=t.isManual)):(n||(n={}),o.exceptions=[new Ra(e,t,n)],o.properties=ha(e,n),o.measurements=ba(e,a),i&&(o.severityLevel=i),r&&(o.id=r))}return e.CreateAutoException=function(e,t,n,a,i,r,o,s){var c=Ta(i||r||e);return{message:La(e,c),url:t,lineNumber:n,columnNumber:a,error:Ua(i||r||e),evt:Ua(r||e),typeName:c,stackDetails:Pa(o||i||r),errorSrc:s}},e.CreateFromInterface=function(t,n,a,i){var r=n.exceptions&&de(n.exceptions,function(e){return Ra.CreateFromInterface(t,e)});return new e(t,Object(C.e)(Object(C.e)({},n),{exceptions:r}),a,i)},e.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,a=e.measurements,i=e.severityLevel,r=e.problemGroup,o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&de(t,function(e){return e.toInterface()})||void 0,severityLevel:i,properties:n,measurements:a,problemGroup:r,id:o,isManual:s}},e.CreateSimpleException=function(e,t,n,a,i,r){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Ua,e}(),Ra=function(){function e(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var a=this;if(function(e){try{if(Y(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))a.typeName=t.typeName,a.message=t.message,a.stack=t.stack,a.parsedStack=t.parsedStack||[],a.hasFullStack=t.hasFullStack;else{var i=t,r=i&&i.evt;te(i)||(i=i.error||r||i),a.typeName=pa(e,Ta(i))||Sa,a.message=_a(e,La(t||i,a.typeName))||Sa;var o=t.stackDetails||Pa(t);a.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var a=0,i=0;if(se(n,function(e){var n=e.toString();if(Na.regex.test(n)){var r=new Na(n,a++);i+=r.sizeInBytes,t.push(r)}}),i>32768)for(var r=0,o=t.length-1,s=0,c=r,d=o;r<o;){if((s+=t[r].sizeInBytes+t[o].sizeInBytes)>32768){var l=d-c+1;t.splice(c,l);break}c=r,d=o,r++,o--}}return t}(o),a.stack=function(e,t){var n;if(t){var a=""+t;a.length>32768&&(n=a.substring(0,32768),ht(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(e,function(e){var t="";return e&&(e.obj?se(e.obj,function(e){t+=e+"\n"}):t=e.src||""),t}(o)),a.hasFullStack=ee(a.parsedStack)&&a.parsedStack.length>0,n&&(n.typeName=n.typeName||a.typeName)}}return e.prototype.toInterface=function(){var e=this,t=e.parsedStack instanceof Array&&de(e.parsedStack,function(e){return e.toInterface()});return{id:e.id,outerId:e.outerId,typeName:e.typeName,message:e.message,hasFullStack:e.hasFullStack,stack:e.stack,parsedStack:t||void 0}},e.CreateFromInterface=function(t,n){var a=n.parsedStack instanceof Array&&de(n.parsedStack,function(e){return Na.CreateFromInterface(e)})||n.parsedStack;return new e(t,Object(C.e)(Object(C.e)({},n),{parsedStack:a}))},e}(),Na=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var a=this;if(a.sizeInBytes=0,"string"==typeof t){var i=t;a.level=n,a.method="<no_method>",a.assembly=ue(i),a.fileName="",a.line=0;var r=i.match(e.regex);r&&r.length>=5&&(a.method=ue(r[2])||a.method,a.fileName=ue(r[4]),a.line=parseInt(r[5])||0)}else a.level=t.level,a.method=t.method,a.assembly=t.assembly,a.fileName=t.fileName,a.line=t.line,a.sizeInBytes=0;a.sizeInBytes+=a.method.length,a.sizeInBytes+=a.fileName.length,a.sizeInBytes+=a.assembly.length,a.sizeInBytes+=e.baseSize,a.sizeInBytes+=a.level.toString().length,a.sizeInBytes+=a.line.toString().length}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e.level,method:e.method,assembly:e.assembly,fileName:e.fileName,line:e.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),Ba=null;function ja(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=E,a=0;a<4;a++)n+=t[15&(e=Lt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Lt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}w.u;var Va,za={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:K,isNullOrUndefined:W,hasOwnProperty:Q,isFunction:J,isObject:Y,isDate:function(e){return!(!e||"[object Date]"!==H.call(e))},isArray:ee,isError:te,isString:ne,isNumber:ae,isBoolean:ie,toISOString:oe,arrForEach:se,arrIndexOf:ce,arrMap:de,arrReduce:le,strTrim:ue,objCreate:O.t,objKeys:me,objDefineAccessors:_e,addEventHandler:Wn,dateNow:ge,isIE:Ze,disableCookies:function(){var e,t;(e=an(undefined,undefined),t=za._canUseCookies,null===Ba&&(Ba=[],Fa=t,_e(za,"_canUseCookies",function(){return Fa},function(e){Fa=e,se(Ba,function(t){t.setEnabled(e)})})),-1===ce(Ba,e)&&Ba.push(e),ie(t)&&e.setEnabled(t),ie(Fa)&&e.setEnabled(Fa),e).setEnabled(!1)},newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Ga,function(e){var t=0|At(15);return("x"===e?t:3&t|8).toString(16)})},perfNow:function(){var e=Ye();return e&&e.now?e.now():ge()},newId:Mt,randomValue:At,random32:Lt,mwcRandomSeed:function(e){e?wt(e):Et()},mwcRandom32:kt,generateW3CId:ja},Ga=/[xy]/g,Ka=(Va={},Z({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},function(e,t){Va[e]=t[1],Va[t[0]]=t[1]}),he(Va));function Wa(e){var t=null;if(J(Event))t=new Event(e);else{var n=Ge();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var qa=Ge()||{},Qa=0,Ya=[null,null,null,null,null];function Ja(e){var t=Qa,n=Ya,a=n[t];return qa.createElement?n[t]||(a=n[t]=qa.createElement("a")):a={host:Xa(e,!0)},a.href=e,++t>=n.length&&(t=0),Qa=t,a}function Xa(e,t){var n=Za(e,t)||"";if(n){var a=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=a&&a.length>3&&ne(a[2])&&a[2].length>0)return a[2]+(a[3]||"")}return n}function Za(e,t){var n=null;if(e){var a=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=a&&a.length>2&&ne(a[2])&&a[2].length>0&&(n=a[2]||"",t&&a.length>2)){var i=(a[1]||"").toLowerCase(),r=a[3]||"";("http"===i&&":80"===r||"https"===i&&":443"===r)&&(r=""),n+=r}}return n}var $a=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function ei(e){return-1!==$a.indexOf(e.toLowerCase())}var ti={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var a=0;a<e.correlationHeaderExcludePatterns.length;a++)if(e.correlationHeaderExcludePatterns[a].test(t))return!1;var i=Ja(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(Za(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var r,o=e&&e.correlationHeaderDomains;if(o&&(se(o,function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));r=r||t.test(i)}),!r))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(a=0;a<s.length;a++)if(new RegExp(s[a].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=ti.getCorrelationContextValue(e,Ka[1]);if(t&&t!==ti.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),a=0;a<n.length;++a){var i=n[a].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function ni(){var e=Ye();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return ge()}function ai(e,t){var n=null;return 0===e||0===t||W(e)||W(t)||(n=t-e),n}var ii=function(){function e(e,t,n,a,i,r,o,s,c,d,l,u){void 0===c&&(c="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=t,f.duration=Xn(i),f.success=r,f.resultCode=o+"",f.type=pa(e,c);var p=function(e,t,n,a){var i,r=a,o=a;if(t&&t.length>0){var s=Ja(t);if(i=s.host,!r)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,r=pa(e,n?n+" "+c:c)}else r=pa(e,t)}else i=a,r=a;return{target:i,name:r,data:o}}(e,n,s,a);f.data=ma(e,a)||p.data,f.target=pa(e,p.target),d&&(f.target="".concat(f.target," | ").concat(d)),f.name=pa(e,p.name),f.properties=ha(e,l),f.measurements=ba(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),ri=["req","rsp","hkErr","fnErr"];function oi(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function si(e,t,n,a,i){i>=0&&i<=2&&oi(e,function(e,r){var o=e.cbks,s=o[ri[i]];if(s){t.ctx=function(){return a[r]=a[r]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var d=o[ri[2]];d&&(t.err=e,d.apply(t.inst,n))}catch(e){}finally{t.err=c}}}})}function ci(e,t,n){var a=null;return e&&(Q(e,t)?a=e:n&&(a=ci(G(e),t,!1))),a}function di(e,t,n,a){var i=n&&n._aiHooks;if(!i){var r=function(e){return function(){var t=this,n=arguments,a=e.h,i={name:e.n,inst:t,ctx:null,set:c},r=[],o=s([i],n);function s(e,t){return oi(t,function(t){e.push(t)}),e}function c(e,t){(n=s([],n))[e]=t,o=s([i],n)}i.evt=Be("event"),si(a,i,o,r,0);var d=e.f;if(d)try{i.rslt=d.apply(t,n)}catch(e){throw i.err=e,si(a,i,o,r,3),e}return si(a,i,o,r,1),i.rslt}}(i={i:0,n:t,f:n,h:[]});r._aiHooks=i,e[t]=r}var o={id:i.i,cbks:a,rm:function(){var e=this.id;oi(i.h,function(t,n){if(t.id===e)return i.h.splice(n,1),1})}};return i.i++,i.h.push(o),o}function li(e,t,n,a){if(void 0===a&&(a=!0),e&&t&&n){var i=ci(e,t,a);if(i){var r=i[t];if(typeof r===w.s)return di(i,t,r,n)}}return null}function ui(e,t,n,a){if(void 0===a&&(a=!0),e&&t&&n){var i=ci(e,t,a);if(i)return di(i,t,i[t],n)}return null}var fi=function e(t,n,a,i){x(e,this,function(e){var r,o=null,s=[],c=!1;function d(e){a&&a.flush(e)}a&&(r=a.logger),e.trackPageView=function(e,a){var l=e.name;if(W(l)||"string"!=typeof l){var u=Ge();l=e.name=u&&u.title||""}var f=e.uri;if(W(f)||"string"!=typeof f){var p=Qe();f=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,a),d(!0),void ht(r,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var m,_,h,b=!1,g=i.getPerformanceTiming().navigationStart;g>0&&(m=ai(g,+new Date),i.shouldCollectDuration(m)||(m=void 0)),W(a)||W(a.duration)||(_=a.duration),!n&&isNaN(_)||(isNaN(_)&&(a||(a={}),a.duration=m),t.sendPageViewInternal(e,a),d(!0),b=!0),a||(a={}),h=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var o={name:l,uri:f};i.populatePageViewPerformanceEvent(o),o.isValid||b?(b||(a.duration=o.durationMs,t.sendPageViewInternal(e,a)),c||(t.sendPageViewPerformanceInternal(o,a),c=!0)):(a.duration=m,t.sendPageViewInternal(e,a))}else g>0&&ai(g,+new Date)>6e4&&(n=!0,b||(a.duration=6e4,t.sendPageViewInternal(e,a)))}catch(e){ht(r,1,38,"trackPageView failed on page load calculation: "+ve(e),{exception:et(e)})}return n},s.push(h),o||(o=setInterval(function(){var e=s.slice(0),t=!1;s=[],se(e,function(e){e()?t=!0:s.push(e)}),0===s.length&&(clearInterval(o),o=null),t&&d(!0)},100))},e.teardown=function(e,t){if(o){clearInterval(o),o=null;var n=s.slice(0);s=[],se(n,function(e){e()})}}})},pi=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){bt(this._logger,"Auto track page visit time failed, metric will not be collected: "+et(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return bt(this._logger,"Call to restart failed: "+et(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(sa()){null!=ca(this._logger,this.prevPageVisitDataKeyName)&&xe("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new mi(e,t),a=Xe().stringify(n);da(this._logger,this.prevPageVisitDataKeyName,a)}}catch(e){bt(this._logger,"Call to start failed: "+et(e))}},e.prototype.stopPageVisitTimer=function(){try{if(sa()){var e=ge(),t=ca(this._logger,this.prevPageVisitDataKeyName);if(t&&Je()){var n=Xe().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,function(e,t){var n=ra();if(null!==n)try{n.removeItem(t)}catch(t){na=!1,ht(e,2,6,"Browser failed removal of session storage item. "+ve(t),{exception:et(t)})}}(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return bt(this._logger,"Stop page visit timer failed: "+et(e)),null}},e}(),mi=function(e,t){this.pageVisitStartTime=ge(),this.pageName=e,this.pageUrl=t},_i=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),a=0,i=0,r=0,o=0,s=0;if(t||n){t?(a=t.duration,i=0===t.startTime?t.connectEnd:ai(t.startTime,t.connectEnd),r=ai(t.requestStart,t.responseStart),o=ai(t.responseStart,t.responseEnd),s=ai(t.responseEnd,t.loadEventEnd)):(a=ai(n.navigationStart,n.loadEventEnd),i=ai(n.navigationStart,n.connectEnd),r=ai(n.requestStart,n.responseStart),o=ai(n.responseStart,n.responseEnd),s=ai(n.responseEnd,n.loadEventEnd));var c=this._logger;0===a?ht(c,2,10,"error calculating page view performance.",{total:a,network:i,request:r,response:o,dom:s}):this.shouldCollectDuration(a,i,r,o,s)?a<Math.floor(i)+Math.floor(r)+Math.floor(o)+Math.floor(s)?ht(c,2,8,"client performance math error.",{total:a,network:i,request:r,response:o,dom:s}):(e.durationMs=a,e.perfTotal=e.duration=Xn(a),e.networkConnect=Xn(i),e.sentRequest=Xn(r),e.receivedResponse=Xn(o),e.domProcessing=Xn(s),e.isValid=!0):ht(c,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:i,request:r,response:o,dom:s})}},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ye().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ye().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=Ye();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=Ye();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=Ye(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=We()||{},a=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,r=!1;if(i)for(var o=0;o<a.length;o++)r=r||-1!==i.toLowerCase().indexOf(a[o]);if(r)return!1;for(o=0;o<e.length;o++)if(e[o]<0||e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}(),hi=function(e,t){var n=this,a={};n.start=function(t){void 0!==a[t]&&ht(e,2,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),a[t]=+new Date},n.stop=function(t,i,r,o){var s=a[t];if(isNaN(s))ht(e,2,63,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=ai(s,+new Date);n.action(t,i,c,r,o)}delete a[t],a[t]=void 0}};function bi(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function gi(e,t){return(e=e||t)<6e4&&(e=6e4),e}function vi(e){return e||(e={}),e.sessionRenewalMs=gi(e.sessionRenewalMs,18e5),e.sessionExpirationMs=gi(e.sessionExpirationMs,864e5),e.disableExceptionTracking=Jn(e.disableExceptionTracking),e.autoTrackPageVisitTime=Jn(e.autoTrackPageVisitTime),e.overridePageViewDuration=Jn(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Jn(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Jn(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Jn(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Jn(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Jn(e.enableDebug),e.disableFlushOnBeforeUnload=Jn(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Jn(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}var yi=function(e){function t(){var n,a,i,r,o,s,c,d,l,u,f,p,m,_,h,b,g,v=e.call(this)||this;return v.identifier="ApplicationInsightsAnalytics",v.priority=180,v.autoRoutePVDelay=500,x(t,v,function(e,t){var y=t._addHook;function S(t,n,a,i,r){e.diagLog().throwInternal(t,n,a,i,r)}function D(){n=null,a=null,i=null,r=null,o=null,s=null,c=!1,d=!1,l=!1,u=!1,f=!1,p=!1,m=!1,_=!1;var e=Qe();h=e&&e.href||"",b=null,g=null}D(),e.getCookieMgr=function(){return on(e.core)},e.processTelemetry=function(t,n){e.processNext(t,n)},e.trackEvent=function(t,n){try{var a=Da(t,Ia.dataType,Ia.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){S(2,39,"trackTrace failed, trace will not be collected: "+ve(e),{exception:et(e)})}},e.startTrackEvent=function(e){try{n.start(e)}catch(e){S(1,29,"startTrackEvent failed, event will not be collected: "+ve(e),{exception:et(e)})}},e.stopTrackEvent=function(e,t,a){try{n.stop(e,void 0,t)}catch(e){S(1,30,"stopTrackEvent failed, event will not be collected: "+ve(e),{exception:et(e)})}},e.trackTrace=function(t,n){try{var a=Da(t,xa.dataType,xa.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){S(2,39,"trackTrace failed, trace will not be collected: "+ve(e),{exception:et(e)})}},e.trackMetric=function(t,n){try{var a=Da(t,Oa.dataType,Oa.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){S(1,36,"trackMetric failed, metric will not be collected: "+ve(e),{exception:et(e)})}},e.trackPageView=function(t,n){try{var a=t||{};i.trackPageView(a,Object(C.e)(Object(C.e)(Object(C.e)({},a.properties),a.measurements),n)),e.config.autoTrackPageVisitTime&&o.trackPreviousPageVisit(a.name,a.uri)}catch(e){S(1,37,"trackPageView failed, page view will not be collected: "+ve(e),{exception:et(e)})}},e.sendPageViewInternal=function(t,n,a){var i=Ge();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var r=Da(t,wa.dataType,wa.envelopeType,e.diagLog(),n,a);e.core.track(r)},e.sendPageViewPerformanceInternal=function(t,n,a){var i=Da(t,Ea.dataType,Ea.envelopeType,e.diagLog(),n,a);e.core.track(i)},e.trackPageViewPerformance=function(t,n){var a=t||{};try{r.populatePageViewPerformanceEvent(a),e.sendPageViewPerformanceInternal(a,n)}catch(e){S(1,37,"trackPageViewPerformance failed, page view will not be collected: "+ve(e),{exception:et(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var t=Ge();e=t&&t.title||""}a.start(e)}catch(e){S(1,31,"startTrackPage failed, page view may not be collected: "+ve(e),{exception:et(e)})}},e.stopTrackPage=function(t,n,i,r){try{if("string"!=typeof t){var s=Ge();t=s&&s.title||""}if("string"!=typeof n){var c=Qe();n=c&&c.href||""}a.stop(t,n,i,r),e.config.autoTrackPageVisitTime&&o.trackPreviousPageVisit(t,n)}catch(e){S(1,32,"stopTrackPage failed, page view will not be collected: "+ve(e),{exception:et(e)})}},e.sendExceptionInternal=function(t,n,a){var i=t.exception||t.error||new Error(Sa),r=Da(new Ha(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),Ha.dataType,Ha.envelopeType,e.diagLog(),n,a);e.core.track(r)},e.trackException=function(t,n){t&&!t.exception&&t.error&&(t.exception=t.error);try{e.sendExceptionInternal(t,n)}catch(e){S(1,35,"trackException failed, exception will not be collected: "+ve(e),{exception:et(e)})}},e._onerror=function(t){var n=t&&t.error,a=t&&t.evt;try{if(!a){var i=Ve();i&&(a=i.event)}var r=t&&t.url||(Ge()||{}).URL,o=t.errorSrc||"window.onerror@"+r+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:o,url:r,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};!function(e,t,n,a,i){return!i&&ne(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?(t.errorSrc||(t.errorSrc=o),e.trackException({exception:t,severityLevel:3},s)):function(t,n){var a=Da(t,Ha.dataType,Ha.envelopeType,e.diagLog(),n);e.core.track(a)}(Ha.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",r,t.lineNumber||0,t.columnNumber||0,n,a,null,o),s)}catch(e){var c=n?n.name+", "+n.message:"null";S(1,11,"_onError threw exception while logging error, error will not be collected: "+ve(e),{exception:et(e),errorString:c})}},e.addTelemetryInitializer=function(t){if(e.core)return e.core.addTelemetryInitializer(t);s||(s=[]),s.push(t)},e.initialize=function(S,D,I,x){if(!e.isInitialized()){W(D)&&xe("Error initializing"),t.initialize(S,D,I,x);try{g=zn(Ht(e.identifier),D.evtNamespace&&D.evtNamespace()),s&&(se(s,function(e){D.addTelemetryInitializer(e)}),s=null);var C=function(t){var n=Kt(null,t,e.core),a=e.identifier,i=vi(t),r=e.config=n.getExtCfg(a);return void 0!==i&&Z(i,function(e,t){r[e]=n.getConfig(a,e,t),void 0===r[e]&&(r=t)}),r}(S);(function(e){K(e.isStorageUseDisabled)||(e.isStorageUseDisabled?(ta=!1,na=!1):(ta=oa(!0),na=sa(!0)))})(C),r=new _i(e.core),i=new fi(v,C.overridePageViewDuration,e.core,r),o=new pi(e.diagLog(),function(t,n,a){return function(t,n,a){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:a,max:a,min:a,sampleCount:1},i)}(t,n,a)}),function(t,n){c=t.isBrowserLinkTrackingEnabled||n.isBrowserLinkTrackingEnabled,function(){if(!d&&c){var t=["/browserLinkSignalR/","/__browserLink/"];e.addTelemetryInitializer(function(e){if(c&&e.baseType===ii.dataType){var n=e.baseData;if(n)for(var a=0;a<t.length;a++)if(n.target&&n.target.indexOf(t[a])>=0)return!1}return!0}),d=!0}}()}(C,S),(n=new hi(e.diagLog(),"trackEvent")).action=function(t,n,a,i){i||(i={}),i.duration=a.toString(),e.trackEvent({name:t,properties:i})},(a=new hi(e.diagLog(),"trackPageView")).action=function(t,n,a,i,r){W(i)&&(i={}),i.duration=a.toString();var o={name:t,uri:n,properties:i,measurements:r};e.sendPageViewInternal(o,i)},je()&&(function(t){var n=Ve(),a=Qe();(f=t.disableExceptionTracking)||p||t.autoExceptionInstrumented||(y(ui(n,"onerror",{ns:g,rsp:function(t,n,a,i,r,o){f||!0===t.rslt||e._onerror(Ha.CreateAutoException(n,a,i,r,o,t.evt))}})),p=!0),function(t,n,a){(m=!0===t.enableUnhandledPromiseRejectionTracking)&&!_&&(y(ui(n,"onunhandledrejection",{ns:g,rsp:function(t,n){m&&!0!==t.rslt&&e._onerror(Ha.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!ne(t)&&J(t.toString)?t.toString():et(t)}return e||""}(n),a?a.href:"",0,0,n,t.evt))}})),_=!0,t.autoUnhandledPromiseInstrumented=_)}(t,n,a)}(C),function(t){var n=Ve(),a=Qe();if(l=!0===t.enableAutoRouteTracking,n&&l&&qe()){var i=qe()?history:Be("history");J(i.pushState)&&J(i.replaceState)&&typeof Event!==w.u&&function(t,n,a,i){u||(y(ui(a,"pushState",{ns:g,rsp:function(){l&&(bi(n,Wa(t.namePrefix+"pushState")),bi(n,Wa(t.namePrefix+"locationchange")))}})),y(ui(a,"replaceState",{ns:g,rsp:function(){l&&(bi(n,Wa(t.namePrefix+"replaceState")),bi(n,Wa(t.namePrefix+"locationchange")))}})),Gn(n,t.namePrefix+"popstate",function(){l&&bi(n,Wa(t.namePrefix+"locationchange"))},g),Gn(n,t.namePrefix+"locationchange",function(){if(b?(h=b,b=i&&i.href||""):b=i&&i.href||"",l){var t=e.core.getPlugin(la);if(t){var n=t.plugin.context;if(n&&n.telemetryTrace){n.telemetryTrace.traceID=ja();var a="_unknown_";i&&i.pathname&&(a=i.pathname+(i.hash||"")),n.telemetryTrace.name=pa(e.diagLog(),a)}}setTimeout(function(t){e.trackPageView({refUri:t,properties:{duration:0}})}.bind(this,h),e.autoRoutePVDelay)}},g),u=!0)}(t,n,i,a)}}(C))}catch(t){throw e.setInitialized(!1),t}}},e._doTeardown=function(e,t){i&&i.teardown(e,t),Kn(window,null,null,g),D()},_e(e,"_pageViewManager",function(){return i}),_e(e,"_pageViewPerformanceManager",function(){return r}),_e(e,"_pageVisitTimeManager",function(){return o}),_e(e,"_evtNamespace",function(){return"."+g})}),v}return Object(C.t)(t,e),t.Version="2.8.1",t.getDefaultConfig=vi,t}(bn),Si=function e(t,n){var a=[],i=!1;this._get=function(){return a},this._set=function(e){return a=e},x(e,this,function(e){e.enqueue=function(r){e.count()>=n.eventsLimitInMem()?i||(ht(t,2,105,"Maximum in-memory buffer size reached: "+e.count(),!0),i=!0):a.push(r)},e.count=function(){return a.length},e.size=function(){for(var e=a.length,t=0;t<a.length;t++)e+=a[t].length;return n.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){a=[],i=!1},e.getItems=function(){return a.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null}})},Di=function(e){function t(n,a){var i=e.call(this,n,a)||this;return x(t,i,function(e,t){e.markAsSent=function(e){t.clear()},e.clearSent=function(e){}}),i}return Object(C.t)(t,e),t}(Si),Ii=function(e){function t(n,a){var i=e.call(this,n,a)||this,r=!1;return x(t,i,function(e,i){var o=l(t.BUFFER_KEY),s=l(t.SENT_BUFFER_KEY),c=e._set(o.concat(s));function d(e,t){var n=[];return se(t,function(t){J(t)||-1!==ce(e,t)||n.push(t)}),n}function l(e){var t=e;try{t=a.namePrefix&&a.namePrefix()?a.namePrefix()+"_"+t:t;var i=ca(n,t);if(i){var r=Xe().parse(i);if(ne(r)&&(r=Xe().parse(r)),r&&ee(r))return r}}catch(e){ht(n,1,42," storage key: "+t+", "+ve(e),{exception:et(e)})}return[]}function u(e,t){var i=e;try{i=a.namePrefix&&a.namePrefix()?a.namePrefix()+"_"+i:i;var r=JSON.stringify(t);da(n,i,r)}catch(e){da(n,i,JSON.stringify([])),ht(n,2,41," storage key: "+i+", "+ve(e)+". Buffer cleared",{exception:et(e)})}}c.length>t.MAX_BUFFER_SIZE&&(c.length=t.MAX_BUFFER_SIZE),u(t.SENT_BUFFER_KEY,[]),u(t.BUFFER_KEY,c),e.enqueue=function(a){e.count()>=t.MAX_BUFFER_SIZE?r||(ht(n,2,67,"Maximum buffer size reached: "+e.count(),!0),r=!0):(i.enqueue(a),u(t.BUFFER_KEY,e._get()))},e.clear=function(){i.clear(),u(t.BUFFER_KEY,e._get()),u(t.SENT_BUFFER_KEY,[]),r=!1},e.markAsSent=function(a){u(t.BUFFER_KEY,e._set(d(a,e._get())));var i=l(t.SENT_BUFFER_KEY);i instanceof Array&&a instanceof Array&&((i=i.concat(a)).length>t.MAX_BUFFER_SIZE&&(ht(n,1,67,"Sent buffer reached its maximum size: "+i.length,!0),i.length=t.MAX_BUFFER_SIZE),u(t.SENT_BUFFER_KEY,i))},e.clearSent=function(e){var n=l(t.SENT_BUFFER_KEY);n=d(e,n),u(t.SENT_BUFFER_KEY,n)}}),i}return Object(C.t)(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(Si);function xi(e){var t="ai."+e+".";return function(e){return t+e}}var Ci,Oi=xi("application"),wi=xi("device"),Ei=xi("location"),Ai=xi("operation"),Li=xi("session"),ki=xi("user"),Mi=xi("cloud"),Pi=xi("internal"),Ti=function(e){function t(){return e.call(this)||this}return Object(C.t)(t,e),t}((Ci={applicationVersion:Oi("ver"),applicationBuild:Oi("build"),applicationTypeId:Oi("typeId"),applicationId:Oi("applicationId"),applicationLayer:Oi("layer"),deviceId:wi("id"),deviceIp:wi("ip"),deviceLanguage:wi("language"),deviceLocale:wi("locale"),deviceModel:wi("model"),deviceFriendlyName:wi("friendlyName"),deviceNetwork:wi("network"),deviceNetworkName:wi("networkName"),deviceOEMName:wi("oemName"),deviceOS:wi("os"),deviceOSVersion:wi("osVersion"),deviceRoleInstance:wi("roleInstance"),deviceRoleName:wi("roleName"),deviceScreenResolution:wi("screenResolution"),deviceType:wi("type"),deviceMachineName:wi("machineName"),deviceVMName:wi("vmName"),deviceBrowser:wi("browser"),deviceBrowserVersion:wi("browserVersion"),locationIp:Ei("ip"),locationCountry:Ei("country"),locationProvince:Ei("province"),locationCity:Ei("city"),operationId:Ai("id"),operationName:Ai("name"),operationParentId:Ai("parentId"),operationRootId:Ai("rootId"),operationSyntheticSource:Ai("syntheticSource"),operationCorrelationVector:Ai("correlationVector"),sessionId:Li("id"),sessionIsFirst:Li("isFirst"),sessionIsNew:Li("isNew"),userAccountAcquisitionDate:ki("accountAcquisitionDate"),userAccountId:ki("accountId"),userAgent:ki("userAgent"),userId:ki("id"),userStoreRegion:ki("storeRegion"),userAuthUserId:ki("authUserId"),userAnonymousUserAcquisitionDate:ki("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ki("authUserAcquisitionDate"),cloudName:Mi("name"),cloudRole:Mi("role"),cloudRoleVer:Mi("roleVer"),cloudRoleInstance:Mi("roleInstance"),cloudEnvironment:Mi("environment"),cloudLocation:Mi("location"),cloudDeploymentUnit:Mi("deploymentUnit"),internalNodeName:Pi("nodeName"),internalSdkVersion:Pi("sdkVersion"),internalAgentVersion:Pi("agentVersion"),internalSnippet:Pi("snippet"),internalSdkSrc:Pi("sdkSrc")},function(){var e=this;Ci&&Z(Ci,function(t,n){e[t]=n})})),Ui="user",Fi="device",Hi="trace",Ri=new Ti,Ni=function(e,t,n){var a=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i.name=pa(e,n)||Sa,i.data=t,i.time=oe(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===a.sampleRate?4:1},tags:1,data:1}},Bi=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},ji="true";function Vi(e,t,n){return ye(e,t,n,Ie)}function zi(e,t,n){W(e)||Z(e,function(e,a){ae(a)?n[e]=a:ne(a)?t[e]=a:Je()&&(t[e]=Xe().stringify(a))})}function Gi(e,t){W(e)||Z(e,function(n,a){e[n]=a||t})}function Ki(e,t,n,a){var i=new Ni(e,a,t);Vi(i,"sampleRate",n.sampleRate),(n.baseData||{}).startTime&&(i.time=oe(n.baseData.startTime)),i.iKey=n.iKey;var r=n.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",r),function(e,t,n){var a=n.tags=n.tags||{},i=t.ext=t.ext||{},r=t.tags=t.tags||[],o=i.user;o&&(Vi(a,Ri.userAuthUserId,o.authId),Vi(a,Ri.userId,o.id||o.localId));var s=i.app;s&&Vi(a,Ri.sessionId,s.sesId);var c=i.device;c&&(Vi(a,Ri.deviceId,c.id||c.localId),Vi(a,Ri.deviceType,c.deviceClass),Vi(a,Ri.deviceIp,c.ip),Vi(a,Ri.deviceModel,c.model),Vi(a,Ri.deviceType,c.deviceType));var d=t.ext.web;if(d){Vi(a,Ri.deviceLanguage,d.browserLang),Vi(a,Ri.deviceBrowserVersion,d.browserVer),Vi(a,Ri.deviceBrowser,d.browser);var l=n.data=n.data||{},u=l.baseData=l.baseData||{},f=u.properties=u.properties||{};Vi(f,"domain",d.domain),Vi(f,"isManual",d.isManual?ji:null),Vi(f,"screenRes",d.screenRes),Vi(f,"userConsent",d.userConsent?ji:null)}var p=i.os;p&&Vi(a,Ri.deviceOS,p.name);var m=i.trace;m&&(Vi(a,Ri.operationParentId,m.parentID),Vi(a,Ri.operationName,pa(e,m.name)),Vi(a,Ri.operationId,m.traceID));for(var _={},h=r.length-1;h>=0;h--)Z(r[h],function(e,t){_[e]=t}),r.splice(h,1);Z(r,function(e,t){_[e]=t});var b=Object(C.e)(Object(C.e)({},a),_);b[Ri.internalSdkVersion]||(b[Ri.internalSdkVersion]="javascript:".concat(qi.Version)),n.tags=Ee(b)}(e,n,i),n.tags=n.tags||[],Ee(i)}function Wi(e,t){W(t.baseData)&&ht(e,1,46,"telemetryItem.baseData cannot be null.")}var qi={Version:"2.8.1"};function Qi(e,t,n){Wi(e,t);var a={},i={};t.baseType!==Ia.dataType&&(a.baseTypeSource=t.baseType),t.baseType===Ia.dataType?(a=t.baseData.properties||{},i=t.baseData.measurements||{}):t.baseData&&zi(t.baseData,a,i),zi(t.data,a,i),W(n)||Gi(a,n);var r=t.baseData.name,o=new Ia(e,r,a,i),s=new Bi(Ia.dataType,o);return Ki(e,Ia.envelopeType,t,s)}var Yi=function e(t){x(e,this,function(e){function n(e,r){var o={};if(!e)return ht(t,1,48,"cannot serialize object because it is null or undefined",{name:r},!0),o;if(e.__aiCircularRefCheck)return ht(t,2,50,"Circular reference detected while serializing object",{name:r},!0),o;if(!e.aiDataContract){if("measurements"===r)o=i(e,"number",r);else if("properties"===r)o=i(e,"string",r);else if("tags"===r)o=i(e,"string",r);else if(ee(e))o=a(e,r);else{ht(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:r},!0);try{Xe().stringify(e),o=e}catch(e){ht(t,1,48,e&&J(e.toString)?e.toString():"Error serializing object",null,!0)}}return o}return e.__aiCircularRefCheck=!0,Z(e.aiDataContract,function(i,s){var c=J(s)?1&s():1&s,d=J(s)?4&s():4&s,l=2&s,u=void 0!==e[i],f=Y(e[i])&&null!==e[i];if(!c||u||l){if(!d){var p;void 0!==(p=f?l?a(e[i],i):n(e[i],i):e[i])&&(o[i]=p)}}else ht(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:r})}),delete e.__aiCircularRefCheck,o}function a(e,a){var i;if(e)if(ee(e)){i=[];for(var r=0;r<e.length;r++){var o=n(e[r],a+"["+r+"]");i.push(o)}}else ht(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:a},!0);return i}function i(e,n,a){var i;return e&&(i={},Z(e,function(e,r){if("string"===n)void 0===r?i[e]="undefined":null===r?i[e]="null":r.toString?i[e]=r.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===r)i[e]="undefined";else if(null===r)i[e]="null";else{var o=parseFloat(r);isNaN(o)?i[e]="NaN":i[e]=o}else i[e]="invalid field: "+a+" is of unknown type.",ht(t,1,i[e],null,!0)})),i}e.serialize=function(e){var a=n(e,"root");try{return Xe().stringify(a)}catch(e){ht(t,1,48,e&&J(e.toString)?e.toString():"Error serializing object",null,!0)}}})};function Ji(e,t){Kn(e,null,null,t)}var Xi,Zi=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var t=5381,n=0;n<e.length;++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),$i=function(){var e=new Zi,t=new Ti;this.getSamplingScore=function(n){return n.tags&&n.tags[t.userId]?e.getHashCodeScore(n.tags[t.userId]):n.ext&&n.ext.user&&n.ext.user.id?e.getHashCodeScore(n.ext.user.id):n.tags&&n.tags[t.operationId]?e.getHashCodeScore(n.tags[t.operationId]):n.ext&&n.ext.telemetryTrace&&n.ext.telemetryTrace.traceID?e.getHashCodeScore(n.ext.telemetryTrace.traceID):100*Math.random()}},er=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var n=t||pt(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new $i}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Oa.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}();function tr(e){try{return e.responseText}catch(e){}return null}var nr=((Xi={})[Ia.dataType]=Qi,Xi[xa.dataType]=function(e,t,n){Wi(e,t);var a=t.baseData.message,i=t.baseData.severityLevel,r=t.baseData.properties||{},o=t.baseData.measurements||{};zi(t.data,r,o),W(n)||Gi(r,n);var s=new xa(e,a,i,r,o),c=new Bi(xa.dataType,s);return Ki(e,xa.envelopeType,t,c)},Xi[wa.dataType]=function(e,t,n){Wi(e,t);var a,i=t.baseData;W(i)||W(i.properties)||W(i.properties.duration)?W(t.data)||W(t.data.duration)||(a=t.data.duration,delete t.data.duration):(a=i.properties.duration,delete i.properties.duration);var r,o=t.baseData;((t.ext||{}).trace||{}).traceID&&(r=t.ext.trace.traceID);var s=o.id||r,c=o.name,d=o.uri,l=o.properties||{},u=o.measurements||{};W(o.refUri)||(l.refUri=o.refUri),W(o.pageType)||(l.pageType=o.pageType),W(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn.toString()),W(o.properties)||Z(o.properties,function(e,t){l[e]=t}),zi(t.data,l,u),W(n)||Gi(l,n);var f=new wa(e,c,d,a,l,u,s),p=new Bi(wa.dataType,f);return Ki(e,wa.envelopeType,t,p)},Xi[Ea.dataType]=function(e,t,n){Wi(e,t);var a=t.baseData,i=a.name,r=a.uri||a.url,o=a.properties||{},s=a.measurements||{};zi(t.data,o,s),W(n)||Gi(o,n);var c=new Ea(e,i,r,void 0,o,s,a),d=new Bi(Ea.dataType,c);return Ki(e,Ea.envelopeType,t,d)},Xi[Ha.dataType]=function(e,t,n){Wi(e,t);var a=t.baseData.measurements||{},i=t.baseData.properties||{};zi(t.data,i,a),W(n)||Gi(i,n);var r=t.baseData,o=Ha.CreateFromInterface(e,r,i,a),s=new Bi(Ha.dataType,o);return Ki(e,Ha.envelopeType,t,s)},Xi[Oa.dataType]=function(e,t,n){Wi(e,t);var a=t.baseData,i=a.properties||{},r=a.measurements||{};zi(t.data,i,r),W(n)||Gi(i,n);var o=new Oa(e,a.name,a.average,a.sampleCount,a.min,a.max,a.stdDev,i,r),s=new Bi(Oa.dataType,o);return Ki(e,Oa.envelopeType,t,s)},Xi[ii.dataType]=function(e,t,n){Wi(e,t);var a=t.baseData.measurements||{},i=t.baseData.properties||{};zi(t.data,i,a),W(n)||Gi(i,n);var r=t.baseData;if(W(r))return bt(e,"Invalid input for dependency data"),null;var o=r.properties&&r.properties[ya]?r.properties[ya]:"GET",s=new ii(e,r.id,r.target,r.name,r.duration,r.success,r.responseCode,o,r.type,r.correlationContext,i,a),c=new Bi(ii.dataType,s);return Ki(e,ii.envelopeType,t,c)},Xi),ar=function(e){function t(){var n,a,i,r,o,s,c,d=e.call(this)||this;d.priority=1001,d.identifier=ua,d._senderConfig={endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}};var l,u,f,p,m=0;return x(t,d,function(e,_){function h(t,a,i,r,o,s){var c=null;if(e._appId||(c=C(s))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!b(i))return void e._onError(a,o);!e._senderConfig.isRetryDisabled()&&A(t)?(O(a),ht(e.diagLog(),2,40,". Response code "+t+". Will retry to send "+a.length+" items.")):e._onError(a,o)}else f&&!f.isOnline()?e._senderConfig.isRetryDisabled()||(O(a,10),ht(e.diagLog(),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(a.length," items."))):(b(i),206===t?(c||(c=C(s)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(a,c):e._onError(a,o)):(n=0,e._onSuccess(a,r)))}function b(t){return!(s>=10||W(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++s,0))}function g(e,t){u?u(e,!1):y(e)}function v(t){var n=We(),a=e._buffer,i=e._senderConfig.endpointUrl(),r=e._buffer.batchPayloads(t),o=new Blob([r],{type:"text/plain;charset=UTF-8"}),s=n.sendBeacon(i,o);return s&&(a.markAsSent(t),e._onSuccess(t,t.length)),s}function y(t,n){if(ee(t)&&t.length>0&&!v(t)){for(var a=[],i=0;i<t.length;i++){var r=t[i];v([r])||a.push(r)}a.length>0&&(l&&l(a,!0),ht(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function S(t,n){var a=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{a[va]=!0}catch(e){}a.open("POST",i,n),a.setRequestHeader("Content-type","application/json"),ei(i)&&a.setRequestHeader(Ka.sdkContextHeader,Ka.sdkContextHeaderAppIdRequest),se(me(c),function(e){a.setRequestHeader(e,c[e])}),a.onreadystatechange=function(){return e._xhrReadyStateChange(a,t,t.length)},a.onerror=function(n){return e._onError(t,L(a),n)};var r=e._buffer.batchPayloads(t);a.send(r),e._buffer.markAsSent(t)}function D(t,n){if(ee(t)){for(var a=t.length,i=0;i<t.length;i++)a+=t[i].length;m+a<=65e3?x(t,!1):tt()?y(t):(l&&l(t,!0),ht(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function I(e,t){x(e,!0)}function x(t,n){var a,i=e._senderConfig.endpointUrl(),r=e._buffer.batchPayloads(t),o=new Blob([r],{type:"application/json"}),s=new Headers,d=r.length,l=!1,u=!1;ei(i)&&s.append(Ka.sdkContextHeader,Ka.sdkContextHeaderAppIdRequest),se(me(c),function(e){s.append(e,c[e])});var f=((a={method:"POST",headers:s,body:o})[va]=!0,a);n||(f.keepalive=!0,l=!0,m+=d);var p=new Request(i,f);try{p[va]=!0}catch(e){}e._buffer.markAsSent(t);try{fetch(p).then(function(a){n||(m-=d,d=0),u||(u=!0,a.ok?a.text().then(function(e){h(a.status,t,a.url,t.length,a.statusText,e)}):e._onError(t,a.statusText))}).catch(function(a){n||(m-=d,d=0),u||(u=!0,e._onError(t,a.message))})}catch(n){u||e._onError(t,et(n))}l&&!u&&(u=!0,e._onSuccess(t,t.length))}function C(t){try{if(t&&""!==t){var n=Xe().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){ht(e.diagLog(),1,43,"Cannot parse the response. "+ve(n),{response:t})}return null}function O(t,i){if(void 0===i&&(i=1),t&&0!==t.length){var r=e._buffer;r.clearSent(t),n++;for(var o=0,s=t;o<s.length;o++){var c=s[o];r.enqueue(c)}!function(e){var t;if(n<=1)t=10;else{var i=(Math.pow(2,n)-1)/2,r=Math.floor(Math.random()*i*10)+1;r*=e,t=Math.max(Math.min(r,3600),10)}var o=ge()+1e3*t;a=o}(i),w()}}function w(){if(!r&&!i){var t=a?Math.max(0,a-ge()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);r=setTimeout(function(){r=null,e.triggerSend(!0,null,1)},n)}}function E(){clearTimeout(r),r=null,a=null}function A(e){return 408===e||429===e||500===e||503===e}function L(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+tr(e)||!1:t}function k(t,n){var a=e._buffer,i=Ve(),r=new XDomainRequest;r.onload=function(){return e._xdrOnLoad(r,t)},r.onerror=function(n){return e._onError(t,M(r),n)};var o=i&&i.location&&i.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return ht(e.diagLog(),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void a.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");r.open("POST",s);var c=a.batchPayloads(t);r.send(c),a.markAsSent(t)}function M(e,t){return e?"XDomainRequest,Response:"+tr(e)||!1:t}function P(){e._sender=null,e._buffer=null,e._appId=null,e._sample=null,c={},f=null,n=0,a=null,i=!1,r=null,o=null,s=0,m=0,l=null,u=null,p=null}P(),e.pause=function(){E(),i=!0},e.resume=function(){i&&(i=!1,a=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),w())},e.flush=function(t,n,a){if(void 0===t&&(t=!0),!i){E();try{e.triggerSend(t,null,a||1)}catch(t){ht(e.diagLog(),1,22,"flush failed, telemetry will not be collected: "+ve(t),{exception:et(t)})}}},e.onunloadFlush=function(){if(!i)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!tt())e.flush();else try{e.triggerSend(!0,g,2)}catch(t){ht(e.diagLog(),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ve(t),{exception:et(t)})}},e.addHeader=function(e,t){c[e]=t},e.initialize=function(t,i,r,c){e.isInitialized()&&ht(e.diagLog(),1,28,"Sender is already initialized"),_.initialize(t,i,r,c);var m=e._getTelCtx(),h=e.identifier;o=new Yi(i.logger),n=0,a=null,e._sender=null,s=0;var b=e.diagLog();p=zn(Ht("Sender"),i.evtNamespace&&i.evtNamespace()),f=function(e){var t=Ge(),n=We(),a=!1,i=!0,r=zn(Ht("OfflineListener"),e);try{if(s(Ve())&&(a=!0),t){var o=t.body||t;o.ononline&&s(o)&&(a=!0)}a&&n&&!W(n.onLine)&&(i=n.onLine)}catch(e){a=!1}function s(e){var t=!1;return e&&(t=Gn(e,"online",c,r))&&Gn(e,"offline",d,r),t}function c(){i=!0}function d(){i=!1}return{isOnline:function(){var e=!0;return a?e=i:n&&!W(n.onLine)&&(e=n.onLine),e},isListening:function(){return a},unload:function(){var e=Ve();if(e&&a){if(Ji(e,r),t){var n=t.body||t;K(n.ononline)||Ji(n,r)}a=!1}}}}(p),Z({endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},function(t,n){e._senderConfig[t]=function(){return m.getConfig(h,t,n())}}),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&sa()?new Ii(b,e._senderConfig):new Di(b,e._senderConfig),e._sample=new er(e._senderConfig.samplingPercentage(),b),function(e){return!(W(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(t)||ht(b,1,100,"Invalid Instrumentation key "+t.instrumentationKey),!ei(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&se(e._senderConfig.customHeaders(),function(e){d.addHeader(e.header,e.value)});var g=e._senderConfig,v=null;!g.disableXhr()&&at()?v=k:!g.disableXhr()&&it()&&(v=S),!v&&nt()&&(v=I),l=v||S,!g.isBeaconApiDisabled()&&tt()&&(v=y),e._sender=v||S,u=!g.onunloadDisableFetch()&&nt(!0)?D:tt()?y:!g.disableXhr()&&at()?k:!g.disableXhr()&&it()?S:l},e.processTelemetry=function(n,a){a=e._getTelCtx(a);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void ht(a.diagLog(),1,7,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void ht(a.diagLog(),1,70,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void ht(a.diagLog(),1,28,"Sender was not initialized");if(u=n,!e._sample.isSampledIn(u))return void ht(a.diagLog(),2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n.sampleRate=e._sample.sampleRate;var i=e._senderConfig.convertUndefined()||void 0,r=n.iKey||e._senderConfig.instrumentationKey(),s=t.constructEnvelope(n,r,a.diagLog(),i);if(!s)return void ht(a.diagLog(),1,47,"Unable to create an AppInsights envelope");var c=!1;if(n.tags&&n.tags.ProcessLegacy&&(se(n.tags.ProcessLegacy,function(e){try{e&&!1===e(s)&&(c=!0,bt(a.diagLog(),"Telemetry processor check returns false"))}catch(e){ht(a.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ve(e),{exception:et(e)},!0)}}),delete n.tags.ProcessLegacy),c)return;var d=o.serialize(s),l=e._buffer;l.size()+d.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),l.enqueue(d),w()}catch(e){ht(a.diagLog(),2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ve(e),{exception:et(e)})}var u;e.processNext(n,a)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&h(e.status,t,e.responseURL,n,L(e),tr(e)||e.response)},e.triggerSend=function(t,n,a){if(void 0===t&&(t=!0),!i)try{var r=e._buffer;if(e._senderConfig.disableTelemetry())r.clear();else{if(r.count()>0){var o=r.getItems();!function(t,n){var a,i=(a="getNotifyMgr",e.core[a]?e.core[a]():e.core._notificationManager);if(i&&i.eventsSendRequest)try{i.eventsSendRequest(t,n)}catch(t){ht(e.diagLog(),1,74,"send request notification failed: "+ve(t),{exception:et(t)})}}(a||0,t),n?n.call(d,o,t):e._sender(o,t)}new Date}E()}catch(t){var s=$e();(!s||s>9)&&ht(e.diagLog(),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ve(t),{exception:et(t)})}},e._doTeardown=function(t,n){e.onunloadFlush(),f.unload(),P()},e._onError=function(t,n,a){ht(e.diagLog(),2,26,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var a=[],i=[],r=0,o=n.errors.reverse();r<o.length;r++){var s=o[r],c=t.splice(s.index,1)[0];A(s.statusCode)?i.push(c):a.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),a.length>0&&e._onError(a,L(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(O(i),ht(e.diagLog(),2,40,"Partial success. Delivered: "+t.length+", Failed: "+a.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,a){var i=tr(t);if(!t||i+""!="200"&&""!==i){var r=C(i);r&&r.itemsReceived&&r.itemsReceived>r.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(a,r):e._onError(a,M(t))}else n=0,e._onSuccess(a,0)}}),d}return Object(C.t)(t,e),t.constructEnvelope=function(e,t,n,a){var i;return i=t===e.iKey||W(t)?e:Object(C.e)(Object(C.e)({},e),{iKey:t}),(nr[i.baseType]||Qi)(n,i,a)},t}(bn),ir=function(){},rr=function(){function e(t,n){var a,i,r=pt(n),o=on(n);x(e,this,function(n){t||(t={}),J(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),J(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var s=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,a=", session will be reset",i=t.split("|");if(i.length>=2)try{var o=+i[1]||0,s=+i[2]||0;isNaN(o)||o<=0?ht(r,2,27,"AI session acquisition date is 0"+a):isNaN(s)||s<=0?ht(r,2,27,"AI session renewal date is 0"+a):i[0]&&(e.id=i[0],e.acquisitionDate=o,e.renewalDate=s,n=!0)}catch(e){ht(r,1,9,"Error parsing ai_session value ["+(t||"")+"]"+a+" - "+ve(e),{exception:et(e)})}return n}function d(e,t){var r=e.acquisitionDate;e.renewalDate=t;var s,c=n.config,d=c.sessionRenewalMs(),l=r+c.sessionExpirationMs()-t,u=[e.id,r,t];s=l<d?l/1e3:d/1e3;var f=c.cookieDomain?c.cookieDomain():null;o.set(a(),u.join("|"),c.sessionExpirationMs()>0?s:null,f),i=t}a=function(){return"ai_session"+s},n.automaticSession=new ir,n.update=function(){var t=ge(),s=!1,l=n.automaticSession;l.id||(s=!function(e,t){var n=!1,i=o.get(a());if(i&&J(i.split))n=c(e,i);else{var s=function(e,t){var n=aa();if(null!==n)try{return n.getItem(t)}catch(t){ta=!1,ht(e,2,1,"Browser failed read of local storage. "+ve(t),{exception:et(t)})}return null}(r,a());s&&(n=c(e,s))}return n||!!e.id}(l));var u=n.config.sessionExpirationMs();if(!s&&u>0){var f=n.config.sessionRenewalMs(),p=t-l.acquisitionDate,m=t-l.renewalDate;s=(s=(s=p<0||m<0)||p>u)||m>f}s?function(e){var t=n.config||{},a=(t.getNewId?t.getNewId():null)||Mt;n.automaticSession.id=a(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,d(n.automaticSession,e),oa()||ht(r,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&d(l,t)},n.backup=function(){var e,t,i,o=n.automaticSession;e=o.id,t=o.acquisitionDate,i=o.renewalDate,function(e,t,n){var a=aa();if(null!==a)try{a.setItem(t,n)}catch(t){ta=!1,ht(e,2,3,"Browser failed write to local storage. "+ve(t),{exception:et(t)})}}(r,a(),[e,t,i].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),or=function(){},sr=function(){this.id="browser",this.deviceClass="Browser"},cr=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.8.1"};function dr(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var lr=function(){function e(t,n){this.isNewUser=!1,this.isUserCookieSet=!1;var a,i=pt(n),r=on(n);x(e,this,function(n){n.config=t;var o=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";a=function(){return e.userCookieName+o};var s=r.get(a());if(s){n.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(n.id=c[0],n.isUserCookieSet=!!n.id)}function d(){var e=t||{};return((e.getNewId?e.getNewId():null)||Mt)(e.idLength?t.idLength():22)}function l(e){var t=oe(new Date);return n.accountAcquisitionDate=t,n.isNewUser=!0,[e,t]}function u(e){n.isUserCookieSet=r.set(a(),e,31536e3)}if(!n.id){n.id=d(),u(l(n.id).join(e.cookieSeparator));var f=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";!function(e,t){var n=aa();if(null!==n)try{n.removeItem(t)}catch(t){ta=!1,ht(e,2,5,"Browser failed removal of local storage item. "+ve(t),{exception:et(t)})}}(i,f)}n.accountId=t.accountId?t.accountId():void 0;var p=r.get(e.authUserCookieName);if(p){var m=(p=decodeURI(p)).split(e.cookieSeparator);m[0]&&(n.authenticatedId=m[0]),m.length>1&&m[1]&&(n.accountId=m[1])}n.setAuthenticatedUserContext=function(t,a,o){if(void 0===o&&(o=!1),!dr(t)||a&&!dr(a))ht(i,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var s=n.authenticatedId;a&&(n.accountId=a,s=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),o&&r.set(e.authUserCookieName,encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,r.del(e.authUserCookieName)},n.update=function(t){n.id===t&&n.isUserCookieSet||u(l(t||d()).join(e.cookieSeparator))}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),ur=function(){},fr=function(e,t,n,a){var i=this;i.traceID=e||ja(),i.parentID=t,i.name=n;var r=Qe();!n&&r&&r.pathname&&(i.name=r.pathname),i.name=pa(a,i.name)},pr="ext",mr="tags";function _r(e,t){e&&e[t]&&0===me(e[t]).length&&delete e[t]}var hr=function e(t,n){var a=this,i=t.logger;this.appId=function(){return null},this.getSessionId=function(){return null},x(e,this,function(e){e.application=new or,e.internal=new cr(n),je()&&(e.sessionManager=new rr(n,t),e.device=new sr,e.location=new ur,e.user=new lr(n,t),e.telemetryTrace=new fr(void 0,void 0,void 0,i),e.session=new ir),e.getSessionId=function(){var t=e.session,n=null;if(t&&ne(t.id))n=t.id;else{var a=(e.sessionManager||{}).automaticSession;n=a&&ne(a.id)?a.id:null}return n},e.applySessionContext=function(t,n){ye(Se(t.ext,"app"),"sesId",e.getSessionId(),ne)},e.applyOperatingSystemContxt=function(t,n){ye(t.ext,"os",e.os)},e.applyApplicationContext=function(t,n){var a=e.application;if(a){var i=Se(t,mr);ye(i,Ri.applicationVersion,a.ver,ne),ye(i,Ri.applicationBuild,a.build,ne)}},e.applyDeviceContext=function(t,n){var a=e.device;if(a){var i=Se(Se(t,pr),Fi);ye(i,"localId",a.id,ne),ye(i,"ip",a.ip,ne),ye(i,"model",a.model,ne),ye(i,"deviceClass",a.deviceClass,ne)}},e.applyInternalContext=function(t,n){var a=e.internal;if(a){var i=Se(t,mr);ye(i,Ri.internalAgentVersion,a.agentVersion,ne),ye(i,Ri.internalSdkVersion,a.sdkVersion,ne),t.baseType!==ft.dataType&&t.baseType!==wa.dataType||(ye(i,Ri.internalSnippet,a.snippetVer,ne),ye(i,Ri.internalSdkSrc,a.sdkSrc,ne))}},e.applyLocationContext=function(e,t){var n=a.location;n&&ye(Se(e,mr,[]),Ri.locationIp,n.ip,ne)},e.applyOperationContext=function(t,n){var a=e.telemetryTrace;if(a){var i=Se(Se(t,pr),Hi,{traceID:void 0,parentID:void 0});ye(i,"traceID",a.traceID,ne),ye(i,"name",a.name,ne),ye(i,"parentID",a.parentID,ne)}},e.applyWebContext=function(e,t){var n=a.web;n&&ye(Se(e,pr),"web",n)},e.applyUserContext=function(t,n){var a=e.user;if(a){ye(Se(t,mr,[]),Ri.userAccountId,a.accountId,ne);var i=Se(Se(t,pr),Ui);ye(i,"id",a.id,ne),ye(i,"authId",a.authenticatedId,ne)}},e.cleanUp=function(e,t){var n=e.ext;n&&(_r(n,Fi),_r(n,Ui),_r(n,"web"),_r(n,"os"),_r(n,"app"),_r(n,Hi))}})},br=function(e){function t(){var n,a,i=e.call(this)||this;return i.priority=110,i.identifier=la,x(t,i,function(e,i){e.initialize=function(r,o,s,c){i.initialize(r,o,s,c);var d=e._getTelCtx(),l=e.identifier,u=t.getDefaultConfig();a=a||{},Z(u,function(e,t){a[e]=function(){return d.getConfig(l,e,t())}}),e.context=new hr(o,a),n=function(e,t){var n=null;return se(e,function(e){if("AppInsightsChannelPlugin"===e.identifier)return n=e,-1}),n}(s),e.context.appId=function(){return n?n._appId:null},e._extConfig=a},e.processTelemetry=function(t,n){if(W(t));else{n=e._getTelCtx(n),t.name===wa.envelopeType&&n.diagLog().resetInternalMessageCount();var a=e.context||{};a.session&&"string"!=typeof e.context.session.id&&a.sessionManager&&a.sessionManager.update();var i=a.user;if(i&&!i.isUserCookieSet&&i.update(a.user.id),function(t,n){Se(t,"tags",[]),Se(t,"ext",{});var a=e.context;a.applySessionContext(t,n),a.applyApplicationContext(t,n),a.applyDeviceContext(t,n),a.applyOperationContext(t,n),a.applyUserContext(t,n),a.applyOperatingSystemContxt(t,n),a.applyWebContext(t,n),a.applyLocationContext(t,n),a.applyInternalContext(t,n),a.cleanUp(t,n)}(t,n),i&&i.isNewUser){i.isNewUser=!1;var r=new ft(72,(We()||{}).userAgent||"");!function(e,t,n){_t(e).logInternalMessage(1,n)}(n.diagLog(),0,r)}e.processNext(t,n)}}}),i}return Object(C.t)(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(bn),gr="00",vr="00000000000000000000000000000000",yr="0000000000000000";function Sr(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function Dr(e,t,n){return Sr(e,t)?e:n}function Ir(e,t,n,a){return{version:Sr(a,2,"ff")?a:gr,traceId:(i=e,Sr(i,32,vr)?e:ja()),spanId:xr(t)?t:ja().substr(0,16),traceFlags:n>=0&&n<=255?n:1};var i}function xr(e){return Sr(e,16,yr)}function Cr(e){if(e){var t=function(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}(e.traceFlags);Sr(t,2)||(t="01");var n=e.version||gr;return"00"!==n&&"ff"!==n&&(n=gr),"".concat(n,"-").concat(Dr(e.traceId,32,vr),"-").concat(Dr(e.spanId,16,yr),"-").concat(t)}return""}function Or(e,t,n){var a=0,i=e[t],r=e[n];return i&&r&&(a=ai(i,r)),a}function wr(e,t,n,a,i){var r=0,o=Or(n,a,i);return o&&(r=Er(e,t,Xn(o))),r}function Er(e,t,n){var a=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,a=1),a}var Ar=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},Lr=function e(t,n,a){var i=this,r=a;i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Ar,i.clientFailure=0,i.traceID=t,i.spanID=n,x(e,i,function(e){e.getAbsoluteUrl=function(){return e.requestUrl?((n=Ja(e.requestUrl))&&(t=n.href),t):null;var t,n},e.getPathName=function(){return e.requestUrl?ma(r,(t=e.method,n=e.requestUrl,t?t.toUpperCase()+" "+n:n)):null;var t,n},e.CreateTrackItem=function(t,n,a){var i;if(e.ajaxTotalDuration=Math.round(1e3*ai(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var r=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(e.requestSentTime&&(r.startTime=new Date,r.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,a=t.properties||{},i=0,r="redirect",o="startTime",s="connectEnd",c="requestStart",d="responseEnd",l=r+"Start",u=r="End";if(n){i|=wr(a,r,n,l,u),i|=wr(a,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=wr(a,"connect",n,"connectStart",s),i|=wr(a,"request",n,c,"requestEnd"),i|=wr(a,"response",n,"responseStart",d),i|=wr(a,"networkConnect",n,o,s),i|=wr(a,"sentRequest",n,c,d);var f=n.duration;f||(f=Or(n,o,d)||0),i|=Er(a,"duration",f),i|=Er(a,"perfTotal",f);var p=n.serverTiming;if(p){var m={};se(p,function(e,t){var n=X(e.name||""+t),a=m[n]||{};Z(e,function(e,t){("name"!==e&&ne(t)||ae(t))&&(a[e]&&(t=a[e]+";"+t),!t&&ne(t)||(a[e]=t))}),m[n]=a}),i|=Er(a,"serverTiming",m)}i|=Er(a,"transferSize",n.transferSize),i|=Er(a,"encodedBodySize",n.encodedBodySize),i|=Er(a,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Er(a,"missing",e.perfAttempts));i&&(t.properties=a)}(e,r),n&&me(e.requestHeaders).length>0&&(r.properties=r.properties||{},r.properties.requestHeaders=e.requestHeaders),a){var o=a();if(o){var s=o.correlationContext;if(s&&(r.correlationContext=s),o.headerMap&&me(o.headerMap).length>0&&(r.properties=r.properties||{},r.properties.responseHeaders=o.headerMap),e.errorStatusText&&e.status>=400){var c=o.type;r.properties=r.properties||{},""!==c&&"text"!==c||(r.properties.responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===c&&(r.properties.responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return r}})},kr="ai.ajxmn.",Mr="fetch",Pr=0;function Tr(e){var t="";try{W(e)||W(e.ajaxData)||W(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function Ur(e,t,n,a,i){ht(e.diagLog(),1,t,n,a,i)}function Fr(e,t,n,a,i){ht(e.diagLog(),2,t,n,a,i)}function Hr(e,t,n){return function(a){Ur(e,t,n,{ajaxDiagnosticsMessage:Tr(a.inst),exception:et(a.err)})}}function Rr(e,t){return e&&t?e.indexOf(t):-1}var Nr=function(e){function t(){var n,a,i,r,o,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D=e.call(this)||this;return D.identifier=t.identifier,D.priority=120,x(t,D,function(e,D){var I=D._addHook;function x(){var e=Qe();n=!1,a=!1,i=e&&e.host&&e.host.toLowerCase(),r=t.getEmptyConfig(),o=!1,s=!1,c=0,d=null,l=!1,u=!1,f=null,p=!1,m=0,_=!1,h={},b=!1,g=!1,v=null,y=null,S=null}function E(e){var t=!0;return(e||r.ignoreHeaders)&&se(r.ignoreHeaders,function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1}),t}function A(e,t,n){I(function(e,t,n){return e?li(e[w.l],t,n,!1):null}(e,t,n))}function L(e,t,n){var a=!1,i=((ne(t)?t:(t||{}).url||"")||"").toLowerCase();if(se(v,function(e){var t=e;ne(e)&&(t=new RegExp(e)),a||(a=t.test(i))}),a)return a;var r=Rr(i,"?"),o=Rr(i,"#");return(-1===r||-1!==o&&o<r)&&(r=o),-1!==r&&(i=i.substring(0,r)),W(e)?W(t)||(a="object"==typeof t&&!0===t[va]||!!n&&!0===n[va]):a=!0===e[va]||!0===i[va],!a&&i&&ei(i)&&(a=!0),a?h[i]||(h[i]=1):h[i]&&(a=!0),a}function k(e,t){var n=!0,i=a;return W(e)||(n=!0===t||!W(e.ajaxData)),i&&n}function M(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function P(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==Rr(n.toLowerCase(),Ka[8])){var a=t.getResponseHeader(Ka[0]);return ti.getCorrelationContext(a)}}catch(n){Fr(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Tr(t),exception:et(n)})}}function T(e,t){if(t.requestUrl&&f&&p){var n=Ye();if(n&&J(n.mark)){Pr++;var a=f+e+"#"+Pr;n.mark(a);var i=n.getEntriesByName(a);i&&1===i.length&&(t.perfMark=i[0])}}}function U(e,t,n,a){var i=t.perfMark,o=Ye(),s=r.maxAjaxPerfLookupAttempts,c=r.ajaxPerfLookupDelay,d=t.requestUrl,l=0;!function r(){try{if(o&&i){l++;for(var u=null,f=o.getEntries(),p=f.length-1;p>=0;p--){var m=f[p];if(m){if("resource"===m.entryType)m.initiatorType!==e||-1===Rr(m.name,d)&&-1===Rr(d,m.name)||(u=m);else if("mark"===m.entryType&&m.name===i.name){t.perfTiming=u;break}if(m.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||l>=s||!1===t.async?(i&&J(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=l,n()):setTimeout(r,c)}catch(e){a(e)}}()}function F(t){var n="";try{W(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){Ur(e,15,"Failed to grab failed fetch diagnostics message",{exception:et(t)})}return n}function H(t,n,a,i,r,s,c){function d(t,n,i){var r=i||{};r.fetchDiagnosticsMessage=F(a),n&&(r.exception=et(n)),Fr(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",r)}r&&(r.responseFinishedTime=ni(),r.status=n,U("fetch",r,function(){var t,c=r.CreateTrackItem("Fetch",o,s);try{y&&(t=y({status:n,request:a,response:i}))}catch(t){Fr(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}c?(void 0!==t&&(c.properties=Object(C.e)(Object(C.e)({},c.properties),t)),e.trackDependencyDataInternal(c)):d(14,null,{requestSentTime:r.requestSentTime,responseFinishedTime:r.responseFinishedTime})},function(e){d(18,e,null)}))}function R(t){if(t&&t.headers)try{var n=t.headers.get(Ka[0]);return ti.getCorrelationContext(n)}catch(n){Fr(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:F(t),exception:et(n)})}}x(),e.initialize=function(i,c,h,x){var F;e.isInitialized()||(D.initialize(i,c,h,x),S=zn(Ht("ajax"),c&&c.evtNamespace&&c.evtNamespace()),function(n){var a=Kt(null,n,e.core);r=t.getEmptyConfig(),Z(t.getDefaultConfig(),function(e,n){r[e]=a.getConfig(t.identifier,e,n)});var i=r.distributedTracingMode;if(o=r.enableRequestHeaderTracking,s=r.enableAjaxErrorStatusText,p=r.enableAjaxPerfTracking,m=r.maxAjaxCallsPerView,_=r.enableResponseHeaderTracking,v=r.excludeRequestFromAutoTrackingPatterns,y=r.addRequestContext,u=0===i||1===i,l=1===i||2===i,p){var c=n.instrumentationKey||"unkwn";f=c.length>5?kr+c.substring(c.length-5)+".":kr+c+"."}b=!!r.disableAjaxTracking,g=!!r.disableFetchTracking}(i),!function(e){var t=!1;if(it()){var n=XMLHttpRequest[w.l];t=!(W(n)||W(n.open)||W(n.send)||W(n.abort))}var a=$e();if(a&&a<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest[w.l].open;XMLHttpRequest[w.l].open=i}catch(n){t=!1,Ur(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:et(n)})}return t}(e)||b||a||(A(XMLHttpRequest,"open",{ns:S,req:function(t,n,a,i){if(!b){var r=t.inst,c=r.ajaxData;!L(r,a)&&k(r,!0)&&(c&&c.xhrMonitoringState.openDone||function(t,n,a,i){var r=d&&d.telemetryTrace&&d.telemetryTrace.traceID||ja(),o=ja().substr(0,16),c=new Lr(r,o,e.diagLog());c.method=n,c.requestUrl=a,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=i,c.errorStatusText=s,t.ajaxData=c}(r,n,a,i),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=Gn(t,"readystatechange",function(){try{t&&4===t.readyState&&k(t)&&function(t){var n=t.ajaxData;function a(n,a){var i=a||{};i.ajaxDiagnosticsMessage=Tr(t),n&&(i.exception=et(n)),Fr(e,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=ni(),n.status=t.status,U("xmlhttprequest",n,function(){try{var i=n.CreateTrackItem("Ajax",o,function(){var e={statusText:t.statusText,headerMap:null,correlationContext:P(t),type:t.responseType,responseText:M(t),response:t.response};if(_){var n=t.getAllResponseHeaders();if(n){var a=ue(n).split(/[\r\n]+/),i={};se(a,function(e){var t=e.split(": "),n=t.shift(),a=t.join(": ");E(n)&&(i[n]=a)}),e.headerMap=i}}return e}),r=void 0;try{y&&(r=y({status:t.status,xhr:t}))}catch(t){Fr(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}i?(void 0!==r&&(i.properties=Object(C.e)(Object(C.e)({},i.properties),r)),e.trackDependencyDataInternal(i)):a(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}},function(e){a(e,null)})}(t)}catch(a){var n=et(a);n&&-1!==Rr(n.toLowerCase(),"c00c023f")||Ur(e,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Tr(t),exception:n})}},S)}(r))}},hkErr:Hr(e,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),A(XMLHttpRequest,"send",{ns:S,req:function(t,n){if(!b){var a=t.inst,i=a.ajaxData;k(a)&&!i.xhrMonitoringState.sendDone&&(T("xhr",i),i.requestSentTime=ni(),e.includeCorrelationHeaders(i,void 0,void 0,a),i.xhrMonitoringState.sendDone=!0)}},hkErr:Hr(e,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),A(XMLHttpRequest,"abort",{ns:S,req:function(e){if(!b){var t=e.inst,n=t.ajaxData;k(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)}},hkErr:Hr(e,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),A(XMLHttpRequest,"setRequestHeader",{ns:S,req:function(e,t,n){if(!b&&o){var a=e.inst;k(a)&&E(t)&&(a.ajaxData.requestHeaders[t]=n)}},hkErr:Hr(e,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0),function(){var t,i=!(t=Object(O.e)())||W(t.Request)||W(t.Request[w.l])||W(t.fetch)?null:t.fetch;if(i){var r=Object(O.e)(),c=i.polyfill;g||n?c&&I(li(r,Mr,{ns:S,req:function(e,t,n){L(null,t,n)}})):(I(li(r,Mr,{ns:S,req:function(t,i,r){var l;if(!g&&n&&!L(null,i,r)&&(!c||!a)){var u=t.ctx();l=function(t,n){var a=d&&d.telemetryTrace&&d.telemetryTrace.traceID||ja(),i=ja().substr(0,16),r=new Lr(a,i,e.diagLog());r.requestSentTime=ni(),r.errorStatusText=s,t instanceof Request?r.requestUrl=t?t.url:"":r.requestUrl=t;var c="GET";n&&n.method?c=n.method:t&&t instanceof Request&&(c=t.method),r.method=c;var l={};return o&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach(function(e,t){E(t)&&(l[t]=e)}),r.requestHeaders=l,T("fetch",r),r}(i,r);var f=e.includeCorrelationHeaders(l,i,r);f!==r&&t.set(1,f),u.data=l}},rsp:function(e,t){if(!g){var n=e.ctx().data;n&&(e.rslt=e.rslt.then(function(e){return H(0,(e||{}).status,t,e,n,function(){var t={statusText:e.statusText,headerMap:null,correlationContext:R(e)};if(_){var n={};e.headers.forEach(function(e,t){E(t)&&(n[t]=e)}),t.headerMap=n}return t}),e}).catch(function(e){throw H(0,0,t,null,n,null,e.message),e}))}},hkErr:Hr(e,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),n=!0),c&&(r.fetch.polyfill=c)}}(),(F=e.core.getPlugin(la))&&(d=F.plugin.context))},e._doTeardown=function(){x()},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c,f=e._currentWindowHost||i;if(n){if(ti.canIncludeCorrelationHeader(r,t.getAbsoluteUrl(),f)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),u){var p="|"+t.traceID+"."+t.spanID;a.headers.set(Ka[3],p),o&&(t.requestHeaders[Ka[3]]=p)}if((c=r.appId||d&&d.appId())&&(a.headers.set(Ka[0],Ka[2]+c),o&&(t.requestHeaders[Ka[0]]=Ka[2]+c)),l){var m=Cr(Ir(t.traceID,t.spanID,1));a.headers.set(Ka[4],m),o&&(t.requestHeaders[Ka[4]]=m)}}return a}if(s)return ti.canIncludeCorrelationHeader(r,t.getAbsoluteUrl(),f)&&(u&&(p="|"+t.traceID+"."+t.spanID,s.setRequestHeader(Ka[3],p),o&&(t.requestHeaders[Ka[3]]=p)),(c=r.appId||d&&d.appId())&&(s.setRequestHeader(Ka[0],Ka[2]+c),o&&(t.requestHeaders[Ka[0]]=Ka[2]+c)),l&&(m=Cr(Ir(t.traceID,t.spanID,1)),s.setRequestHeader(Ka[4],m),o&&(t.requestHeaders[Ka[4]]=m))),s},e.trackDependencyDataInternal=function(t,n,a){if(-1===m||c<m){2!==r.distributedTracingMode&&1!==r.distributedTracingMode||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),W(t.startTime)&&(t.startTime=new Date);var i=Da(t,ii.dataType,ii.envelopeType,e.diagLog(),n,a);e.core.track(i)}else c===m&&Ur(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++c}}),D}return Object(C.t)(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return Z(e,function(t){e[t]=void 0}),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(bn);Zn({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});var Br,jr=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Vr=function e(t){var n,a,i,r,o,s,c,d=this;x(e,this,function(e){o=Ht("AISKU"),s=null,r=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var l=t.config||{};if(l.connectionString){var u=function(e){if(!e)return{};var t=le(e.split(";"),function(e,t){var n=t.split("=");if(2===n.length){var a=n[0].toLowerCase(),i=n[1];e[a]=i}return e},{});if(me(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||"https://dc.services.visualstudio.com"}return t}(l.connectionString),f=u.ingestionendpoint;l.endpointUrl=f?"".concat(f,"/v2/track"):l.endpointUrl,l.instrumentationKey=u.instrumentationkey||l.instrumentationKey}e.appInsights=new yi,a=new br,n=new Nr,i=new ar,c=new On,e.core=c,e.snippet=t,e.config=l,e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4,e.flush=function(e){void 0===e&&(e=!0),St(c,function(){return"AISKU.flush"},function(){se(c.getTransmissionControls(),function(t){se(t,function(t){t.flush(e)})})},null,e)},e.onunloadFlush=function(e){void 0===e&&(e=!0),se(c.getTransmissionControls(),function(t){se(t,function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)})})},e.loadAppInsights=function(t,o,s){return void 0===t&&(t=!1),t&&e.config.extensions&&e.config.extensions.length>0&&xe("Extensions not allowed in legacy mode"),St(e.core,function(){return"AISKU.loadAppInsights"},function(){var l=[];l.push(i),l.push(a),l.push(n),l.push(e.appInsights),c.initialize(e.config,l,o,s),e.context=a.context,Br&&e.context&&(e.context.internal.sdkSrc=Br),function(n){if(n){var a="";W(r)||(a+=r),t&&(a+=".lg"),e.context&&e.context.internal&&(e.context.internal.snippetVer=a||"-"),Z(e,function(e,t){ne(e)&&!J(t)&&e&&"_"!==e[0]&&-1===jr.indexOf(e)&&(n[e]=t)})}}(e.snippet),e.emptyQueue(),e.pollInternalLogs(),e.addHousekeepingBeforeUnload(d)}),e},e.updateSnippetDefinitions=function(t){!function(e,t,n){if(e&&t&&Y(e)&&Y(t)){var a=function(a){if(ne(a)){var i=t[a];J(i)?n&&!n(a)||(e[a]=Ce(t,a)):n&&!n(a)||(Q(e,a)&&delete e[a],_e(e,a,function(){return t[a]},function(e){t[a]=e})||(e[a]=i))}};for(var i in t)a(i)}}(t,e,function(e){return e&&-1===jr.indexOf(e)})},e.emptyQueue=function(){try{if(ee(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&J(e.toString)&&e.toString()}},e.addHousekeepingBeforeUnload=function(e){if(je()||ze()){var t=function(){if(e.onunloadFlush(!1),J(d.core.getPlugin)){var t=d.core.getPlugin(la);if(t){var n=t.plugin;n&&n.context&&n.context._sessionManager&&n.context._sessionManager.backup()}}},n=!1,a=e.appInsights.config.disablePageUnloadEvents;s||(s=zn(o,c.evtNamespace&&c.evtNamespace())),e.appInsights.config.disableFlushOnBeforeUnload||(function(e,t,n,a){var i=!1;return t&&e&&ee(e)&&!(i=qn(e,t,n,a))&&n&&n.length>0&&(i=qn(e,t,null,a)),i}([kn,Ln,An],t,a,s)&&(n=!0),Yn(t,a,s)&&(n=!0),n||(i=We())&&i.product&&"ReactNative"===i.product||ht(e.appInsights.core.logger,1,19,"Could not add handler for beforeunload and pagehide")),n||e.appInsights.config.disableFlushOnUnload||Yn(t,a,s)}var i},e.getSender=function(){return i},e.unload=function(t,n,a){var i;e.onunloadFlush(t),s&&(Qn([kn,Ln,An],null,s),i=zn(Mn,s),Qn([An],null,i),Qn([En],null,i)),c.unload&&c.unload(t,n,a)},we(e,e.appInsights,["getCookieMgr","trackEvent","trackPageView","trackPageViewPerformance","trackException","_onerror","trackTrace","trackMetric","startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),we(e,function(){return n},["trackDependencyData"]),we(e,c,["addTelemetryInitializer","pollInternalLogs","stopPollingInternalLogs","getPlugin","addPlugin","evtNamespace","addUnloadCb"]),we(e,function(){var e=a.context;return e?e.user:null},["setAuthenticatedUserContext","clearAuthenticatedUserContext"])})};!function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var a=e.toLowerCase();if(a)for(var i="",r=0;r<t.length;r++)if(-1!==a.indexOf(t[r])){i="cdn"+(r+1),-1===a.indexOf("/scripts/")&&(-1!==a.indexOf("/next/")?i+="-next":-1!==a.indexOf("/beta/")&&(i+="-beta")),Br=i+"";break}}catch(e){}}();var zr,Gr=n("rs7b"),Kr=(zr=function(e,t){return zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zr(e,t)},function(e,t){function n(){this.constructor=e}zr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wr=function(){return Wr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wr.apply(this,arguments)},qr={enabled:!0,instrumentationKey:"1a3f9226-224a-4802-9793-ba64f10437ec",trackUserId:!0,trackExceptions:!0,cloudRole:"sharepoint-page",cloudRoleInstance:"",excludedDependencyTargets:"browser.pipe.aria.microsoft.com\nbusiness.bing.com\nmeasure.office.com\nofficeapps.live.com\noutlook.office365.com\noutlook.office.com"},Qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._appInsights=void 0,t._config=void 0,t._excludedDependencies=[],t}return Kr(t,e),t.prototype.onInit=function(){var e;if(a.Log.info("ApplicationInsightsApplicationCustomizer","Initialized "+Gr.Title),console.log("AI Initialized!"),this._config=Wr(Wr({},qr),this.properties),this._config.enabled){this._config.excludedDependencyTargets&&(this._excludedDependencies=this._config.excludedDependencyTargets.split("\n").filter(function(e){return e&&!!e.trim()&&e.trim().length>5}));var t=this._config.trackUserId?this.context.pageContext.user.loginName.replace(/([\|:;=])/g,""):void 0;return this._appInsights=new Vr({config:{instrumentationKey:this._config.instrumentationKey,accountId:t,disableFetchTracking:!1,enableRequestHeaderTracking:!0,enableResponseHeaderTracking:!0,enableAjaxErrorStatusText:!0,enableAjaxPerfTracking:!0,enableUnhandledPromiseRejectionTracking:!0,enableCorsCorrelation:!1,disableExceptionTracking:!1,distributedTracingMode:ea.AI_AND_W3C}}),this._appInsights.loadAppInsights(),this._appInsights.setAuthenticatedUserContext(t,t,!0),this._appInsights.trackPageView({name:document.title,uri:window.location.href,properties:(e={},e.CustomProps={WebAbsUrl:this.context.pageContext.web.absoluteUrl,WebSerUrl:this.context.pageContext.web.serverRelativeUrl,WebId:this.context.pageContext.web.id,UserTitle:this.context.pageContext.user.displayName,UserEmail:this.context.pageContext.user.email,UserLoginName:this.context.pageContext.user.loginName},e)}),console.log(this.context.pageContext.web.absoluteUrl),console.log(this.context.pageContext.web.serverRelativeUrl),console.log(this.context.pageContext.user.displayName),console.log(this.context.pageContext.user.email),console.log(this.context.pageContext.user.loginName),Promise.resolve()}console.log("[AzureAppInsights Web Part] Tracking disabled. No analytics will be logged.")},t}(i.BaseApplicationCustomizer);t.default=Qr}})});